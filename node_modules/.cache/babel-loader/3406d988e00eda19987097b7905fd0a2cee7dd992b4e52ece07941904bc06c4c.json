{"ast":null,"code":"import { INVALID_CONFIG as i } from \"@liff/consts\";\nimport { logger as o } from \"@liff/logger\";\nimport { hexToBase64 as r, randomAlphaNumericString as e, createLiffError as t, qs as f } from \"@liff/util\";\nimport { getConfig as n, setLoginTmp as l } from \"@liff/store\";\nimport { getEndPoint as c } from \"@liff/server-api\";\nimport { getVersion as d } from \"@liff/get-version\";\nimport { isSubWindow as p } from \"@liff/is-sub-window\";\nimport { isInClient as a } from \"@liff/is-in-client\";\nimport s from \"tiny-sha256\";\nimport { SyncHook as m } from \"@liff/hooks\";\nimport { getMessageBus as u } from \"@liff/sub-window\";\nvar g = function () {\n  function g() {\n    this.hooks = {\n      before: new m()\n    };\n  }\n  return Object.defineProperty(g.prototype, \"name\", {\n    get: function () {\n      return \"login\";\n    },\n    enumerable: !1,\n    configurable: !0\n  }), g.prototype.install = function () {\n    return this.login.bind(this);\n  }, g.prototype.login = function (m) {\n    var g;\n    this.hooks.before.call(m);\n    var h = e(43),\n      _ = r(s(h)).replace(/\\+/g, \"-\").replace(/\\//g, \"_\").replace(/=/g, \"\"),\n      b = n();\n    if (!b || !b.liffId) throw t(i, \"You need to define `liffId` for liff.login()\");\n    var v = {\n      app_id: b.liffId,\n      state: e(12),\n      response_type: \"code\",\n      code_challenge_method: \"S256\",\n      code_challenge: _,\n      liff_sdk_version: d()\n    };\n    m && m.redirectUri && (v.redirect_uri = m.redirectUri), p() && !a() && ((null === (g = u()) || void 0 === g ? void 0 : g.isReady()) ? v.redirect_uri = window.location.href : v.disable_auto_login = \"true\"), l({\n      codeVerifier: h\n    });\n    var w = c(\"authorize\") + \"?\" + f.stringify(v);\n    o.debug(\"[Redirect] \".concat(w)), window.location.href = w;\n  }, g;\n}();\nexport { g as LoginModule };","map":{"version":3,"names":["INVALID_CONFIG","i","logger","o","hexToBase64","r","randomAlphaNumericString","e","createLiffError","t","qs","f","getConfig","n","setLoginTmp","l","getEndPoint","c","getVersion","d","isSubWindow","p","isInClient","a","s","SyncHook","m","getMessageBus","u","g","hooks","before","Object","defineProperty","prototype","get","enumerable","configurable","install","login","bind","call","h","_","replace","b","liffId","v","app_id","state","response_type","code_challenge_method","code_challenge","liff_sdk_version","redirectUri","redirect_uri","isReady","window","location","href","disable_auto_login","codeVerifier","w","stringify","debug","concat","LoginModule"],"sources":["/Users/navamongkoltongta/workspace/sn2/shopassistant-register/node_modules/@liff/login/lib/index.es.js"],"sourcesContent":["import{INVALID_CONFIG as i}from\"@liff/consts\";import{logger as o}from\"@liff/logger\";import{hexToBase64 as r,randomAlphaNumericString as e,createLiffError as t,qs as f}from\"@liff/util\";import{getConfig as n,setLoginTmp as l}from\"@liff/store\";import{getEndPoint as c}from\"@liff/server-api\";import{getVersion as d}from\"@liff/get-version\";import{isSubWindow as p}from\"@liff/is-sub-window\";import{isInClient as a}from\"@liff/is-in-client\";import s from\"tiny-sha256\";import{SyncHook as m}from\"@liff/hooks\";import{getMessageBus as u}from\"@liff/sub-window\";var g=function(){function g(){this.hooks={before:new m}}return Object.defineProperty(g.prototype,\"name\",{get:function(){return\"login\"},enumerable:!1,configurable:!0}),g.prototype.install=function(){return this.login.bind(this)},g.prototype.login=function(m){var g;this.hooks.before.call(m);var h=e(43),_=r(s(h)).replace(/\\+/g,\"-\").replace(/\\//g,\"_\").replace(/=/g,\"\"),b=n();if(!b||!b.liffId)throw t(i,\"You need to define `liffId` for liff.login()\");var v={app_id:b.liffId,state:e(12),response_type:\"code\",code_challenge_method:\"S256\",code_challenge:_,liff_sdk_version:d()};m&&m.redirectUri&&(v.redirect_uri=m.redirectUri),p()&&!a()&&((null===(g=u())||void 0===g?void 0:g.isReady())?v.redirect_uri=window.location.href:v.disable_auto_login=\"true\"),l({codeVerifier:h});var w=c(\"authorize\")+\"?\"+f.stringify(v);o.debug(\"[Redirect] \".concat(w)),window.location.href=w},g}();export{g as LoginModule};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}