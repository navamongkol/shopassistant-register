{"ast":null,"code":"import { STORE_KEY as e, INVALID_CONFIG as t, EXCEPTION_IN_SUBWINDOW as n, SUB_WINDOW_STATUS as r, CREATE_SUBWINDOW_FAILED as i, SUB_WINDOW_IDNTIFICATION_KEY as o, INVALID_ARGUMENT as s, SUB_WINDOW_HEALTH_CHECK_MESSAGE as a, SUB_WINDOW_HEALTH_CHECK_INTERVAL as u, SUB_WINDOW_MONITOR_CLOSE_INTERVAL as c, UNKNOWN as f, UNAUTHORIZED as l, SUB_WINDOW_MODAL_SCHEME_URL as d, FORBIDDEN as m } from \"@liff/consts\";\nimport { createLiffError as v, inMemoryStorage as p, isIpad as h, extractLiffId as w, isLIFFBrowser as g, isLINEBrowser as b } from \"@liff/util\";\nimport { isInClient as S } from \"@liff/is-in-client\";\nimport { isApiAvailable as y } from \"@liff/is-api-available\";\nimport { __awaiter as I, __generator as C, __read as O, __spreadArray as P } from \"tslib\";\nimport { logger as L } from \"@liff/logger\";\nimport { getOS as E } from \"@liff/get-os\";\nimport { getEndPoint as N, fetch as T, requestWithoutErrorHandling as j } from \"@liff/server-api\";\nimport { getConfig as M, getMSTChallenge as B, getMST as D, getAppData as J } from \"@liff/store\";\nimport { WINDOW as R, MessageBus as U, IDENTIFIER_KEY as W, CRYPTO_KEY as A } from \"@liff/message-bus\";\nimport { isSubWindow as x } from \"@liff/is-sub-window\";\nimport { closeWindow as k } from \"@liff/close-window\";\nfunction K(e) {\n  var t = N(\"subWindowGetOrigin\");\n  return T(t(e));\n}\nvar G = {};\nfunction V(e, t) {\n  e && G[e] && G[e].forEach(function (e) {\n    e(t);\n  });\n}\nvar F,\n  _,\n  q,\n  z,\n  H,\n  Q = function () {\n    function n(e) {\n      this.storage = e;\n    }\n    return n.prototype.getItem = function (e) {\n      return this.storage.getItem(\"\".concat(this.getKeyPrefix(), \":\").concat(e));\n    }, n.prototype.setItem = function (e, t) {\n      this.storage.setItem(\"\".concat(this.getKeyPrefix(), \":\").concat(e), t);\n    }, n.prototype.removeItem = function (e) {\n      this.storage.removeItem(\"\".concat(this.getKeyPrefix(), \":\").concat(e));\n    }, n.prototype.clear = function () {\n      this.storage.clear();\n    }, n.prototype.getKeyPrefix = function () {\n      return \"\".concat(e, \":\").concat(this.getLiffId());\n    }, n.prototype.getLiffId = function () {\n      var e = M().liffId;\n      if (!e) throw v(t, \"liffId is necessary for liff.init()\");\n      return e;\n    }, n;\n  }(),\n  X = new Q(p);\nfunction Y() {\n  var e = X.getItem(\"subWindowStatusUpdated\");\n  return null !== e && JSON.parse(e);\n}\nfunction Z(e) {\n  X.setItem(\"subWindowStatusUpdated\", String(e));\n}\nfunction $(e) {\n  F = e;\n}\nfunction ee() {\n  return F;\n}\nfunction te() {\n  return q;\n}\nfunction ne() {\n  return z;\n}\nfunction re(e) {\n  return void 0 === e && (e = R.MAIN), I(this, void 0, void 0, function () {\n    return C(this, function (t) {\n      switch (t.label) {\n        case 0:\n          return [4, (H = new U(e)).setup()];\n        case 1:\n          return t.sent(), [2, H];\n      }\n    });\n  });\n}\nfunction ie() {\n  return H;\n}\nvar oe = new Q(window.sessionStorage);\nfunction se(e) {\n  oe.setItem(\"mainWindowOrigin\", e);\n}\nfunction ae() {\n  return oe.getItem(\"mainWindowOrigin\");\n}\nfunction ue(e, t) {\n  return void 0 === t && (t = {}), I(this, void 0, void 0, function () {\n    var i, o, s, a, u, c, f, l;\n    return C(this, function (d) {\n      switch (d.label) {\n        case 0:\n          if (null == (i = ie()) ? void 0 : i.isReady()) return [3, 5];\n          if (o = JSON.stringify(t), s = M().liffId, a = ae(), !window.opener || !a || !s) throw v(n);\n          u = !1, d.label = 1;\n        case 1:\n          return d.trys.push([1, 3,, 4]), [4, K(s)];\n        case 2:\n          return c = d.sent(), u = c.subwindowCommonModule, [3, 4];\n        case 3:\n          throw f = d.sent(), L.debug(f), v(n);\n        case 4:\n          return l = u ? a : location.origin, [2, new Promise(function (t) {\n            window.addEventListener(\"message\", function n(i) {\n              (function (e) {\n                if (e.data && \"string\" == typeof e.data.type && [r.SUBMIT, r.CANCEL].includes(e.data.type)) return !0;\n                return !1;\n              })(i) && (window.removeEventListener(\"message\", n), t({\n                status: e,\n                result: o\n              }));\n            }), window.opener.postMessage({\n              status: e,\n              result: o\n            }, l);\n          })];\n        case 5:\n          return i.send({\n            eventName: e,\n            data: t\n          }), [4, new Promise(function (e) {\n            setTimeout(e, 500);\n          })];\n        case 6:\n          return d.sent(), [2, {\n            status: e,\n            result: JSON.stringify(t)\n          }];\n      }\n    });\n  });\n}\nfunction ce(e) {\n  var t,\n    n = ne();\n  if (e.origin === n) {\n    var i = e.data;\n    if (i) {\n      var o,\n        s = i.status,\n        u = i.result;\n      try {\n        o = JSON.parse(u || \"{}\");\n      } catch (c) {\n        o = {};\n      }\n      switch (s) {\n        case a:\n          window.clearInterval(te()), me();\n          break;\n        case r.CANCEL:\n        case r.SUBMIT:\n          Z(!0), window.clearInterval(te()), window.removeEventListener(\"message\", ce), V(s, o), null === (t = ee()) || void 0 === t || t.postMessage({\n            type: s\n          }, ne());\n          break;\n        default:\n          L.debug(\"unexpected message\");\n      }\n    }\n  }\n}\nvar fe = function (e) {\n  return I(void 0, void 0, void 0, function () {\n    var t, n, i, o;\n    return C(this, function (s) {\n      if (Y()) return [2];\n      switch (t = e.context, n = t.eventName, i = t.data, o = ie(), n) {\n        case r.INIT:\n          de(!i.hasOpener);\n          break;\n        case r.CANCEL:\n        case r.SUBMIT:\n          Z(!0), V(n, i), null == o || o.reply(e, {\n            eventName: n\n          });\n          break;\n        case r.CLOSE:\n          !1 === Y() && (Z(!0), V(r.CLOSE, {})), me();\n      }\n      return [2];\n    });\n  });\n};\nfunction le() {\n  window.clearInterval(_), window.clearInterval(te()), window.removeEventListener(\"message\", ce);\n}\nfunction de(e) {\n  if (void 0 === e && (e = !1), le(), Z(!1), e) {\n    var t = ee();\n    t && (t.close(), $(null));\n  }\n}\nfunction me() {\n  return I(this, void 0, void 0, function () {\n    var e;\n    return C(this, function (t) {\n      switch (t.label) {\n        case 0:\n          return (e = ie()) ? [4, e.teardown()] : [3, 2];\n        case 1:\n          t.sent(), t.label = 2;\n        case 2:\n          return [2];\n      }\n    });\n  });\n}\nfunction ve(e) {\n  return I(this, void 0, void 0, function () {\n    var t, n, f, l, d, m, p, g, b, S;\n    return C(this, function (y) {\n      switch (y.label) {\n        case 0:\n          return (t = w(e.url)) ? (de(!0), [4, me()]) : [2, Promise.reject(v(s, \"params.url must be liff url\"))];\n        case 1:\n          return y.sent(), n = e.url, f = e.appData, (l = new URL(n)).searchParams.append(o, \"true\"), [4, re()];\n        case 2:\n          return d = y.sent(), l.searchParams.append(W, d.identification.identifier), l.searchParams.append(A, d.identification.cryptoKey), l.hostname = function (e) {\n            var t = O(e.split(\".\")),\n              n = t[0],\n              r = t.slice(1);\n            return P([\"\".concat(n, \"-ext\")], O(r), !1).join(\".\");\n          }(l.hostname), m = l.toString(), $(\"ios\" !== E() || h() ? window.open(\"\", \"liffsubwindow\", \"width=480, height=640, menubar=no, toolbar=no, scrollbars=yes\") : window.open()), [4, K(t)];\n        case 3:\n          if (p = y.sent(), g = p.origin, b = p.subwindowCommonModule, !(S = ee())) throw v(i);\n          return b ? (function (e) {\n            z = e;\n          }(g), d.listen(fe), d.setData(\"appData\", f), window.addEventListener(\"message\", ce), S.location.href = m, I = function (e, t) {\n            var n = ee(),\n              r = {\n                type: a\n              };\n            return t && (r.message = JSON.stringify(t)), window.setInterval(function () {\n              null == n || n.postMessage(r, e);\n            }, u);\n          }(g, f), q = I, function (e) {\n            _ = e;\n          }(window.setInterval(function () {\n            var e = ee();\n            e && e.closed && (le(), $(null), !1 === Y() && (Z(!0), V(r.CLOSE, {})));\n          }, c)), [2]) : (S.close(), [2]);\n      }\n      var I;\n    });\n  });\n}\nfunction pe(e) {\n  return I(this, void 0, void 0, function () {\n    var t, n, i, o, a, u, c, l, d, m, p;\n    return C(this, function (h) {\n      switch (h.label) {\n        case 0:\n          t = e.msit, n = e.mstChallenge, i = e.onSuccess, o = e.onError, a = e.reconnectCount, u = void 0 === a ? 0 : a, h.label = 1;\n        case 1:\n          return h.trys.push([1, 3,, 6]), [4, j(N(\"subWindowSubscribe\"), {\n            method: \"POST\",\n            body: JSON.stringify({\n              msit: t,\n              mstChallenge: n\n            })\n          })];\n        case 2:\n          return c = h.sent(), [3, 6];\n        case 3:\n          return h.sent(), [4, he()];\n        case 4:\n          return h.sent(), [4, ge(pe, {\n            msit: t,\n            mstChallenge: n,\n            onSuccess: i,\n            onError: o,\n            reconnectCount: u += 1\n          })];\n        case 5:\n          return h.sent(), [2];\n        case 6:\n          return c.status >= 500 ? [4, he()] : [3, 9];\n        case 7:\n          return h.sent(), [4, ge(pe, {\n            msit: t,\n            mstChallenge: n,\n            onSuccess: i,\n            onError: o,\n            reconnectCount: u += 1\n          })];\n        case 8:\n          return h.sent(), [3, 20];\n        case 9:\n          return c.status >= 400 && 500 > c.status ? [4, we(c)] : [3, 11];\n        case 10:\n          return (d = h.sent()) ? (l = d.errorDetail, o(v(s, l))) : o(v(f, \"Some error happened in the server\")), [3, 20];\n        case 11:\n          return 200 !== c.status ? [3, 19] : [4, we(c)];\n        case 12:\n          return (d = h.sent()) ? [3, 13] : (o(v(f, \"Some error happened in the server\")), [3, 18]);\n        case 13:\n          switch (m = d.status, p = d.result, m) {\n            case r.ERROR:\n              return [3, 14];\n            case r.CLOSE:\n            case r.CANCEL:\n            case r.SUBMIT:\n              return [3, 16];\n          }\n          return [3, 17];\n        case 14:\n          return [4, ge(pe, {\n            msit: t,\n            mstChallenge: n,\n            onSuccess: i,\n            onError: o,\n            reconnectCount: u\n          })];\n        case 15:\n          return h.sent(), [3, 18];\n        case 16:\n          return i(m, p), [3, 18];\n        case 17:\n          o(v(f, \"Some error happened in the server\")), h.label = 18;\n        case 18:\n          return [3, 20];\n        case 19:\n          o(v(f, \"Some error happened in the server\")), h.label = 20;\n        case 20:\n          return [2];\n      }\n    });\n  });\n}\nfunction he() {\n  return new Promise(function (e) {\n    return setTimeout(e, 1e3);\n  });\n}\nfunction we(e) {\n  return I(this, void 0, void 0, function () {\n    return C(this, function (t) {\n      switch (t.label) {\n        case 0:\n          return t.trys.push([0, 2,, 3]), [4, e.json()];\n        case 1:\n          return [2, t.sent()];\n        case 2:\n          return t.sent(), [2, null];\n        case 3:\n          return [2];\n      }\n    });\n  });\n}\nfunction ge(e, t) {\n  return I(this, void 0, void 0, function () {\n    return C(this, function (n) {\n      switch (n.label) {\n        case 0:\n          return t.reconnectCount >= 10 ? (t.onError(v(f, \"Failed to connect\")), [3, 3]) : [3, 1];\n        case 1:\n          return [4, e(t)];\n        case 2:\n          n.sent(), n.label = 3;\n        case 3:\n          return [2];\n      }\n    });\n  });\n}\nfunction be(e) {\n  var t = {};\n  return Object.keys(e).forEach(function (n) {\n    \"closeButtonColor\" === n ? \"white\" === e[n] ? t[n] = \"#ffffff\" : t[n] = \"#000000\" : t[n] = e[n];\n  }), t;\n}\nvar Se = {\n  height: \"full\",\n  closeButtonPosition: \"right\",\n  closeButtonColor: \"black\",\n  closeButtonLabel: \"\"\n};\nfunction ye(e) {\n  var t = e.appData,\n    n = e.native,\n    i = M().liffId,\n    o = B(),\n    a = w(e.url);\n  if (!i) return Promise.reject(v(l, \"liffId is invalid\"));\n  if (!o) return Promise.reject(v(l, \"mst_challenge is invalid\"));\n  if (!a) return Promise.reject(v(s, \"params.url must be liff url\"));\n  var u = Object.assign({}, Se, n);\n  return function (e) {\n    var t = e.mainLiffId,\n      n = e.subLiffId,\n      r = e.mstChallenge,\n      i = e.appData,\n      o = e.view;\n    return t && r ? T(N(\"subWindowGetMSIT\"), {\n      method: \"POST\",\n      body: JSON.stringify({\n        mainLiffId: t,\n        subLiffId: n,\n        mstChallenge: r,\n        appData: i,\n        view: o\n      })\n    }) : Promise.reject(v(s, \"no proper argument\"));\n  }({\n    mainLiffId: i,\n    subLiffId: a,\n    mstChallenge: o,\n    appData: t,\n    view: be(u)\n  }).then(function (t) {\n    var n = t.msit;\n    pe({\n      msit: n,\n      mstChallenge: o,\n      onSuccess: function (e, t) {\n        V(e, t);\n      },\n      onError: function (e) {\n        V(r.ERROR, e);\n      }\n    }), function (e, t) {\n      var n = e.url,\n        r = new URLSearchParams();\n      r.set(\"msit\", t), location.href = \"\".concat(d, \"?url=\").concat(encodeURIComponent(n), \"&\").concat(r.toString());\n    }(e, n);\n  });\n}\nfunction Ie() {\n  if (!x()) throw v(l, \"this api can be only called in child window\");\n}\nfunction Ce(e) {\n  if (!e.mst || !e.status) return Promise.reject(v(s, \"no proper argument\"));\n  var t = JSON.stringify(e);\n  return T(N(\"subWindowPost\"), {\n    method: \"POST\",\n    body: t\n  });\n}\nfunction Oe(e) {\n  var t = e.msit,\n    n = e.mstVerifier;\n  return t && n ? T(N(\"subWindowGetMSTByMSIT\"), {\n    method: \"POST\",\n    body: JSON.stringify({\n      msit: t,\n      mstVerifier: n\n    })\n  }) : Promise.reject(v(s, \"no proper argument\"));\n}\nfunction Pe(e) {\n  var t = e.mst;\n  return t ? T(N(\"subWindowGetAppData\"), {\n    method: \"POST\",\n    body: JSON.stringify({\n      mst: t\n    })\n  }) : Promise.reject(v(s, \"no proper argument\"));\n}\nvar Le = {\n  on: function (e, t) {\n    G[e] || (G[e] = []), G[e].push(t);\n  },\n  off: function (e, t) {\n    if (G[e]) {\n      var n = G[e].indexOf(t);\n      n >= 0 && G[e].splice(n, 1);\n    }\n  },\n  open: function (e) {\n    if (!y(\"subwindowOpen\")) throw v(m, \"No permission for liff.subWindow.open()\");\n    if (!g() && b()) throw v(m, \"Subwindow is not supported in this browser\");\n    return function () {\n      if (x()) throw v(l, \"this api can be only called in parent window\");\n    }(), S() ? ye(e) : ve(e);\n  },\n  cancel: function (e) {\n    return void 0 === e && (e = {}), Ie(), S() ? function (e) {\n      return void 0 === e && (e = {}), I(this, void 0, void 0, function () {\n        var t, n;\n        return C(this, function (i) {\n          switch (i.label) {\n            case 0:\n              return (t = D()) ? [4, Ce({\n                mst: t,\n                status: r.CANCEL,\n                result: e\n              })] : [2, Promise.reject(v(l, \"mst is invalid\"))];\n            case 1:\n              return n = i.sent(), Z(!0), [2, n];\n          }\n        });\n      });\n    }(e) : function (e) {\n      return void 0 === e && (e = {}), ue(r.CANCEL, e);\n    }(e);\n  },\n  submit: function (e) {\n    return void 0 === e && (e = {}), Ie(), S() ? function (e) {\n      return void 0 === e && (e = {}), I(this, void 0, void 0, function () {\n        var t, n;\n        return C(this, function (i) {\n          switch (i.label) {\n            case 0:\n              return (t = D()) ? [4, Ce({\n                mst: t,\n                status: r.SUBMIT,\n                result: e\n              })] : [2, Promise.reject(v(l, \"mst is invalid\"))];\n            case 1:\n              return n = i.sent(), Z(!0), [2, n];\n          }\n        });\n      });\n    }(e) : function (e) {\n      return void 0 === e && (e = {}), ue(r.SUBMIT, e);\n    }(e);\n  },\n  close: function () {\n    return Ie(), S() ? function () {\n      return I(this, void 0, void 0, function () {\n        var e;\n        return C(this, function (t) {\n          switch (t.label) {\n            case 0:\n              return !1 !== Y() ? [3, 2] : (e = D()) ? [4, Ce({\n                mst: e,\n                status: r.CLOSE,\n                result: {}\n              })] : [2, Promise.reject(v(l, \"mst is invalid\"))];\n            case 1:\n              t.sent(), t.label = 2;\n            case 2:\n              return k(), [2];\n          }\n        });\n      });\n    }() : function () {\n      return I(this, void 0, void 0, function () {\n        var e;\n        return C(this, function (t) {\n          return (null == (e = ie()) ? void 0 : e.isReady()) ? (e.send({\n            eventName: r.CLOSE\n          }), [2, new Promise(function (e) {\n            setTimeout(function () {\n              k(), e();\n            }, u);\n          })]) : (k(), [2, Promise.resolve()]);\n        });\n      });\n    }();\n  },\n  getAppData: function () {\n    return Ie(), function () {\n      var e,\n        t = J();\n      try {\n        e = t ? JSON.parse(t) : {};\n      } catch (n) {\n        e = {};\n      }\n      return Promise.resolve(e);\n    }();\n  }\n};\nexport { Pe as getAppData, Oe as getMSTByMSIT, ae as getMainWindowOrigin, ie as getMessageBus, re as initMessageBus, se as setMainWindowOrigin, Le as subWindow };","map":{"version":3,"names":["STORE_KEY","e","INVALID_CONFIG","t","EXCEPTION_IN_SUBWINDOW","n","SUB_WINDOW_STATUS","r","CREATE_SUBWINDOW_FAILED","i","SUB_WINDOW_IDNTIFICATION_KEY","o","INVALID_ARGUMENT","s","SUB_WINDOW_HEALTH_CHECK_MESSAGE","a","SUB_WINDOW_HEALTH_CHECK_INTERVAL","u","SUB_WINDOW_MONITOR_CLOSE_INTERVAL","c","UNKNOWN","f","UNAUTHORIZED","l","SUB_WINDOW_MODAL_SCHEME_URL","d","FORBIDDEN","m","createLiffError","v","inMemoryStorage","p","isIpad","h","extractLiffId","w","isLIFFBrowser","g","isLINEBrowser","b","isInClient","S","isApiAvailable","y","__awaiter","I","__generator","C","__read","O","__spreadArray","P","logger","L","getOS","E","getEndPoint","N","fetch","T","requestWithoutErrorHandling","j","getConfig","M","getMSTChallenge","B","getMST","D","getAppData","J","WINDOW","R","MessageBus","U","IDENTIFIER_KEY","W","CRYPTO_KEY","A","isSubWindow","x","closeWindow","k","K","G","V","forEach","F","_","q","z","H","Q","storage","prototype","getItem","concat","getKeyPrefix","setItem","removeItem","clear","getLiffId","liffId","X","Y","JSON","parse","Z","String","$","ee","te","ne","re","MAIN","label","setup","sent","ie","oe","window","sessionStorage","se","ae","ue","isReady","stringify","opener","trys","push","subwindowCommonModule","debug","location","origin","Promise","addEventListener","data","type","SUBMIT","CANCEL","includes","removeEventListener","status","result","postMessage","send","eventName","setTimeout","ce","clearInterval","me","fe","context","INIT","de","hasOpener","reply","CLOSE","le","close","teardown","ve","url","reject","appData","URL","searchParams","append","identification","identifier","cryptoKey","hostname","split","slice","join","toString","open","listen","setData","href","message","setInterval","closed","pe","msit","mstChallenge","onSuccess","onError","reconnectCount","method","body","he","ge","we","errorDetail","ERROR","json","be","Object","keys","Se","height","closeButtonPosition","closeButtonColor","closeButtonLabel","ye","native","assign","mainLiffId","subLiffId","view","then","URLSearchParams","set","encodeURIComponent","Ie","Ce","mst","Oe","mstVerifier","Pe","Le","on","off","indexOf","splice","cancel","submit","resolve","getMSTByMSIT","getMainWindowOrigin","getMessageBus","initMessageBus","setMainWindowOrigin","subWindow"],"sources":["/Users/navamongkoltongta/workspace/sn2/shopassistant-register/node_modules/@liff/sub-window/lib/index.es.js"],"sourcesContent":["import{STORE_KEY as e,INVALID_CONFIG as t,EXCEPTION_IN_SUBWINDOW as n,SUB_WINDOW_STATUS as r,CREATE_SUBWINDOW_FAILED as i,SUB_WINDOW_IDNTIFICATION_KEY as o,INVALID_ARGUMENT as s,SUB_WINDOW_HEALTH_CHECK_MESSAGE as a,SUB_WINDOW_HEALTH_CHECK_INTERVAL as u,SUB_WINDOW_MONITOR_CLOSE_INTERVAL as c,UNKNOWN as f,UNAUTHORIZED as l,SUB_WINDOW_MODAL_SCHEME_URL as d,FORBIDDEN as m}from\"@liff/consts\";import{createLiffError as v,inMemoryStorage as p,isIpad as h,extractLiffId as w,isLIFFBrowser as g,isLINEBrowser as b}from\"@liff/util\";import{isInClient as S}from\"@liff/is-in-client\";import{isApiAvailable as y}from\"@liff/is-api-available\";import{__awaiter as I,__generator as C,__read as O,__spreadArray as P}from\"tslib\";import{logger as L}from\"@liff/logger\";import{getOS as E}from\"@liff/get-os\";import{getEndPoint as N,fetch as T,requestWithoutErrorHandling as j}from\"@liff/server-api\";import{getConfig as M,getMSTChallenge as B,getMST as D,getAppData as J}from\"@liff/store\";import{WINDOW as R,MessageBus as U,IDENTIFIER_KEY as W,CRYPTO_KEY as A}from\"@liff/message-bus\";import{isSubWindow as x}from\"@liff/is-sub-window\";import{closeWindow as k}from\"@liff/close-window\";function K(e){var t=N(\"subWindowGetOrigin\");return T(t(e))}var G={};function V(e,t){e&&G[e]&&G[e].forEach((function(e){e(t)}))}var F,_,q,z,H,Q=function(){function n(e){this.storage=e}return n.prototype.getItem=function(e){return this.storage.getItem(\"\".concat(this.getKeyPrefix(),\":\").concat(e))},n.prototype.setItem=function(e,t){this.storage.setItem(\"\".concat(this.getKeyPrefix(),\":\").concat(e),t)},n.prototype.removeItem=function(e){this.storage.removeItem(\"\".concat(this.getKeyPrefix(),\":\").concat(e))},n.prototype.clear=function(){this.storage.clear()},n.prototype.getKeyPrefix=function(){return\"\".concat(e,\":\").concat(this.getLiffId())},n.prototype.getLiffId=function(){var e=M().liffId;if(!e)throw v(t,\"liffId is necessary for liff.init()\");return e},n}(),X=new Q(p);function Y(){var e=X.getItem(\"subWindowStatusUpdated\");return null!==e&&JSON.parse(e)}function Z(e){X.setItem(\"subWindowStatusUpdated\",String(e))}function $(e){F=e}function ee(){return F}function te(){return q}function ne(){return z}function re(e){return void 0===e&&(e=R.MAIN),I(this,void 0,void 0,(function(){return C(this,(function(t){switch(t.label){case 0:return[4,(H=new U(e)).setup()];case 1:return t.sent(),[2,H]}}))}))}function ie(){return H}var oe=new Q(window.sessionStorage);function se(e){oe.setItem(\"mainWindowOrigin\",e)}function ae(){return oe.getItem(\"mainWindowOrigin\")}function ue(e,t){return void 0===t&&(t={}),I(this,void 0,void 0,(function(){var i,o,s,a,u,c,f,l;return C(this,(function(d){switch(d.label){case 0:if(null==(i=ie())?void 0:i.isReady())return[3,5];if(o=JSON.stringify(t),s=M().liffId,a=ae(),!window.opener||!a||!s)throw v(n);u=!1,d.label=1;case 1:return d.trys.push([1,3,,4]),[4,K(s)];case 2:return c=d.sent(),u=c.subwindowCommonModule,[3,4];case 3:throw f=d.sent(),L.debug(f),v(n);case 4:return l=u?a:location.origin,[2,new Promise((function(t){window.addEventListener(\"message\",(function n(i){(function(e){if(e.data&&\"string\"==typeof e.data.type&&[r.SUBMIT,r.CANCEL].includes(e.data.type))return!0;return!1})(i)&&(window.removeEventListener(\"message\",n),t({status:e,result:o}))})),window.opener.postMessage({status:e,result:o},l)}))];case 5:return i.send({eventName:e,data:t}),[4,new Promise((function(e){setTimeout(e,500)}))];case 6:return d.sent(),[2,{status:e,result:JSON.stringify(t)}]}}))}))}function ce(e){var t,n=ne();if(e.origin===n){var i=e.data;if(i){var o,s=i.status,u=i.result;try{o=JSON.parse(u||\"{}\")}catch(c){o={}}switch(s){case a:window.clearInterval(te()),me();break;case r.CANCEL:case r.SUBMIT:Z(!0),window.clearInterval(te()),window.removeEventListener(\"message\",ce),V(s,o),null===(t=ee())||void 0===t||t.postMessage({type:s},ne());break;default:L.debug(\"unexpected message\")}}}}var fe=function(e){return I(void 0,void 0,void 0,(function(){var t,n,i,o;return C(this,(function(s){if(Y())return[2];switch(t=e.context,n=t.eventName,i=t.data,o=ie(),n){case r.INIT:de(!i.hasOpener);break;case r.CANCEL:case r.SUBMIT:Z(!0),V(n,i),null==o||o.reply(e,{eventName:n});break;case r.CLOSE:!1===Y()&&(Z(!0),V(r.CLOSE,{})),me()}return[2]}))}))};function le(){window.clearInterval(_),window.clearInterval(te()),window.removeEventListener(\"message\",ce)}function de(e){if(void 0===e&&(e=!1),le(),Z(!1),e){var t=ee();t&&(t.close(),$(null))}}function me(){return I(this,void 0,void 0,(function(){var e;return C(this,(function(t){switch(t.label){case 0:return(e=ie())?[4,e.teardown()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}function ve(e){return I(this,void 0,void 0,(function(){var t,n,f,l,d,m,p,g,b,S;return C(this,(function(y){switch(y.label){case 0:return(t=w(e.url))?(de(!0),[4,me()]):[2,Promise.reject(v(s,\"params.url must be liff url\"))];case 1:return y.sent(),n=e.url,f=e.appData,(l=new URL(n)).searchParams.append(o,\"true\"),[4,re()];case 2:return d=y.sent(),l.searchParams.append(W,d.identification.identifier),l.searchParams.append(A,d.identification.cryptoKey),l.hostname=function(e){var t=O(e.split(\".\")),n=t[0],r=t.slice(1);return P([\"\".concat(n,\"-ext\")],O(r),!1).join(\".\")}(l.hostname),m=l.toString(),$(\"ios\"!==E()||h()?window.open(\"\",\"liffsubwindow\",\"width=480, height=640, menubar=no, toolbar=no, scrollbars=yes\"):window.open()),[4,K(t)];case 3:if(p=y.sent(),g=p.origin,b=p.subwindowCommonModule,!(S=ee()))throw v(i);return b?(function(e){z=e}(g),d.listen(fe),d.setData(\"appData\",f),window.addEventListener(\"message\",ce),S.location.href=m,I=function(e,t){var n=ee(),r={type:a};return t&&(r.message=JSON.stringify(t)),window.setInterval((function(){null==n||n.postMessage(r,e)}),u)}(g,f),q=I,function(e){_=e}(window.setInterval((function(){var e=ee();e&&e.closed&&(le(),$(null),!1===Y()&&(Z(!0),V(r.CLOSE,{})))}),c)),[2]):(S.close(),[2])}var I}))}))}function pe(e){return I(this,void 0,void 0,(function(){var t,n,i,o,a,u,c,l,d,m,p;return C(this,(function(h){switch(h.label){case 0:t=e.msit,n=e.mstChallenge,i=e.onSuccess,o=e.onError,a=e.reconnectCount,u=void 0===a?0:a,h.label=1;case 1:return h.trys.push([1,3,,6]),[4,j(N(\"subWindowSubscribe\"),{method:\"POST\",body:JSON.stringify({msit:t,mstChallenge:n})})];case 2:return c=h.sent(),[3,6];case 3:return h.sent(),[4,he()];case 4:return h.sent(),[4,ge(pe,{msit:t,mstChallenge:n,onSuccess:i,onError:o,reconnectCount:u+=1})];case 5:return h.sent(),[2];case 6:return c.status>=500?[4,he()]:[3,9];case 7:return h.sent(),[4,ge(pe,{msit:t,mstChallenge:n,onSuccess:i,onError:o,reconnectCount:u+=1})];case 8:return h.sent(),[3,20];case 9:return c.status>=400&&500>c.status?[4,we(c)]:[3,11];case 10:return(d=h.sent())?(l=d.errorDetail,o(v(s,l))):o(v(f,\"Some error happened in the server\")),[3,20];case 11:return 200!==c.status?[3,19]:[4,we(c)];case 12:return(d=h.sent())?[3,13]:(o(v(f,\"Some error happened in the server\")),[3,18]);case 13:switch(m=d.status,p=d.result,m){case r.ERROR:return[3,14];case r.CLOSE:case r.CANCEL:case r.SUBMIT:return[3,16]}return[3,17];case 14:return[4,ge(pe,{msit:t,mstChallenge:n,onSuccess:i,onError:o,reconnectCount:u})];case 15:return h.sent(),[3,18];case 16:return i(m,p),[3,18];case 17:o(v(f,\"Some error happened in the server\")),h.label=18;case 18:return[3,20];case 19:o(v(f,\"Some error happened in the server\")),h.label=20;case 20:return[2]}}))}))}function he(){return new Promise((function(e){return setTimeout(e,1e3)}))}function we(e){return I(this,void 0,void 0,(function(){return C(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,e.json()];case 1:return[2,t.sent()];case 2:return t.sent(),[2,null];case 3:return[2]}}))}))}function ge(e,t){return I(this,void 0,void 0,(function(){return C(this,(function(n){switch(n.label){case 0:return t.reconnectCount>=10?(t.onError(v(f,\"Failed to connect\")),[3,3]):[3,1];case 1:return[4,e(t)];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function be(e){var t={};return Object.keys(e).forEach((function(n){\"closeButtonColor\"===n?\"white\"===e[n]?t[n]=\"#ffffff\":t[n]=\"#000000\":t[n]=e[n]})),t}var Se={height:\"full\",closeButtonPosition:\"right\",closeButtonColor:\"black\",closeButtonLabel:\"\"};function ye(e){var t=e.appData,n=e.native,i=M().liffId,o=B(),a=w(e.url);if(!i)return Promise.reject(v(l,\"liffId is invalid\"));if(!o)return Promise.reject(v(l,\"mst_challenge is invalid\"));if(!a)return Promise.reject(v(s,\"params.url must be liff url\"));var u=Object.assign({},Se,n);return function(e){var t=e.mainLiffId,n=e.subLiffId,r=e.mstChallenge,i=e.appData,o=e.view;return t&&r?T(N(\"subWindowGetMSIT\"),{method:\"POST\",body:JSON.stringify({mainLiffId:t,subLiffId:n,mstChallenge:r,appData:i,view:o})}):Promise.reject(v(s,\"no proper argument\"))}({mainLiffId:i,subLiffId:a,mstChallenge:o,appData:t,view:be(u)}).then((function(t){var n=t.msit;pe({msit:n,mstChallenge:o,onSuccess:function(e,t){V(e,t)},onError:function(e){V(r.ERROR,e)}}),function(e,t){var n=e.url,r=new URLSearchParams;r.set(\"msit\",t),location.href=\"\".concat(d,\"?url=\").concat(encodeURIComponent(n),\"&\").concat(r.toString())}(e,n)}))}function Ie(){if(!x())throw v(l,\"this api can be only called in child window\")}function Ce(e){if(!e.mst||!e.status)return Promise.reject(v(s,\"no proper argument\"));var t=JSON.stringify(e);return T(N(\"subWindowPost\"),{method:\"POST\",body:t})}function Oe(e){var t=e.msit,n=e.mstVerifier;return t&&n?T(N(\"subWindowGetMSTByMSIT\"),{method:\"POST\",body:JSON.stringify({msit:t,mstVerifier:n})}):Promise.reject(v(s,\"no proper argument\"))}function Pe(e){var t=e.mst;return t?T(N(\"subWindowGetAppData\"),{method:\"POST\",body:JSON.stringify({mst:t})}):Promise.reject(v(s,\"no proper argument\"))}var Le={on:function(e,t){G[e]||(G[e]=[]),G[e].push(t)},off:function(e,t){if(G[e]){var n=G[e].indexOf(t);n>=0&&G[e].splice(n,1)}},open:function(e){if(!y(\"subwindowOpen\"))throw v(m,\"No permission for liff.subWindow.open()\");if(!g()&&b())throw v(m,\"Subwindow is not supported in this browser\");return function(){if(x())throw v(l,\"this api can be only called in parent window\")}(),S()?ye(e):ve(e)},cancel:function(e){return void 0===e&&(e={}),Ie(),S()?function(e){return void 0===e&&(e={}),I(this,void 0,void 0,(function(){var t,n;return C(this,(function(i){switch(i.label){case 0:return(t=D())?[4,Ce({mst:t,status:r.CANCEL,result:e})]:[2,Promise.reject(v(l,\"mst is invalid\"))];case 1:return n=i.sent(),Z(!0),[2,n]}}))}))}(e):function(e){return void 0===e&&(e={}),ue(r.CANCEL,e)}(e)},submit:function(e){return void 0===e&&(e={}),Ie(),S()?function(e){return void 0===e&&(e={}),I(this,void 0,void 0,(function(){var t,n;return C(this,(function(i){switch(i.label){case 0:return(t=D())?[4,Ce({mst:t,status:r.SUBMIT,result:e})]:[2,Promise.reject(v(l,\"mst is invalid\"))];case 1:return n=i.sent(),Z(!0),[2,n]}}))}))}(e):function(e){return void 0===e&&(e={}),ue(r.SUBMIT,e)}(e)},close:function(){return Ie(),S()?function(){return I(this,void 0,void 0,(function(){var e;return C(this,(function(t){switch(t.label){case 0:return!1!==Y()?[3,2]:(e=D())?[4,Ce({mst:e,status:r.CLOSE,result:{}})]:[2,Promise.reject(v(l,\"mst is invalid\"))];case 1:t.sent(),t.label=2;case 2:return k(),[2]}}))}))}():function(){return I(this,void 0,void 0,(function(){var e;return C(this,(function(t){return(null==(e=ie())?void 0:e.isReady())?(e.send({eventName:r.CLOSE}),[2,new Promise((function(e){setTimeout((function(){k(),e()}),u)}))]):(k(),[2,Promise.resolve()])}))}))}()},getAppData:function(){return Ie(),function(){var e,t=J();try{e=t?JSON.parse(t):{}}catch(n){e={}}return Promise.resolve(e)}()}};export{Pe as getAppData,Oe as getMSTByMSIT,ae as getMainWindowOrigin,ie as getMessageBus,re as initMessageBus,se as setMainWindowOrigin,Le as subWindow};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}