{"ast":null,"code":"import { __assign as e, __awaiter as t, __generator as n, __read as r } from \"tslib\";\nimport { done as o } from \"@liff/ready\";\nimport { isLoggedIn as i } from \"@liff/is-logged-in\";\nimport { convertHexToRgb as a, convertArgbToRgba as s, createLiffError as c, base64Url as l, convertArrayBuffer as u, compareVersion as f, qs as d, extractChannelIdFromLiffId as h, objectAssignKeyOnlyWithValue as p, addParamsToUrl as v, randomAlphaNumericString as m, replaceUrlCredentialRemoved as w } from \"@liff/util\";\nimport { getContext as b, getLoginTmp as g, getExpireTime as k, getIsSubsequentLiffApp as C, getFeatureToken as F, setIsSubsequentLiffApp as I, getMST as y, getAccessToken as _, getRawContext as B, getIDToken as x, getClientId as S, getMSTChallenge as T, getMSTVerifier as A, getMSIT as E, getConfig as L, setDecodedIDToken as N, setAppData as U, setMST as D, setFeatureToken as O, setAccessToken as P, setContext as W, setMSTChallenge as K, setMSTVerifier as M, setClientId as j, setMSIT as R, setIDToken as H, getDecodedIDToken as J, removeLoginTmp as V, setExpireTime as q, setConfig as z } from \"@liff/store\";\nimport { load as G } from \"@liff/extensions\";\nimport { INIT_FAILED as Q, INVALID_ID_TOKEN as X, FORBIDDEN as Y, SUB_WINDOW_STATUS as Z, SUB_WINDOW_HEALTH_CHECK_MESSAGE as $, INVALID_CONFIG as ee } from \"@liff/consts\";\nimport { isInClient as te } from \"@liff/is-in-client\";\nimport { logout as ne } from \"@liff/logout\";\nimport { isSubWindow as re } from \"@liff/is-sub-window\";\nimport { getMSTByMSIT as oe, getAppData as ie, getMainWindowOrigin as ae, getMessageBus as se, initMessageBus as ce, setMainWindowOrigin as le } from \"@liff/sub-window\";\nimport { fetch as ue, getEndPoint as fe, verifyAccessToken as de } from \"@liff/server-api\";\nimport { logger as he } from \"@liff/logger\";\nimport { getLineVersion as pe } from \"@liff/get-line-version\";\nimport { addListener as ve, removeListener as me } from \"@liff/native-bridge\";\nimport { isApiAvailable as we } from \"@liff/is-api-available\";\nimport { getOS as be } from \"@liff/get-os\";\nimport { closeWindow as ge } from \"@liff/close-window\";\nimport { EVENT_NAME as ke, WINDOW as Ce, IDENTIFIER_KEY as Fe } from \"@liff/message-bus\";\nimport { AsyncHook as Ie } from \"@liff/hooks\";\nimport { t as ye } from \"@liff/i18n\";\nvar _e = {\n    iconColor: \"#111111\",\n    statusBarColor: \"BLACK\",\n    titleTextColor: \"#111111\",\n    titleSubtextColor: \"#B7B7B7\",\n    titleButtonColor: \"#111111\",\n    titleBackgroundColor: \"#FFFFFF\",\n    progressBarColor: \"#06C755\",\n    progressBackgroundColor: \"#FFFFFF\",\n    titleButtonAreaBackgroundColor: \"#1FFFFFFF\",\n    titleButtonAreaBorderColor: \"#26000000\",\n    baseBackgroundColor: \"#FFFFFF\",\n    baseTextColor: \"#000000\",\n    lightButtonBorderColor: \"rgba(0, 0, 0, 0.15)\"\n  },\n  Be = {\n    iconColor: \"#FFFFFF\",\n    statusBarColor: \"WHITE\",\n    titleTextColor: \"#FFFFFF\",\n    titleSubtextColor: \"#949494\",\n    titleButtonColor: \"#FFFFFF\",\n    titleBackgroundColor: \"#111111\",\n    progressBarColor: \"#06C755\",\n    progressBackgroundColor: \"#111111\",\n    titleButtonAreaBackgroundColor: \"#1FFFFFFF\",\n    titleButtonAreaBorderColor: \"#26000000\",\n    baseBackgroundColor: \"#000000\",\n    baseTextColor: \"#FFFFFF\",\n    lightButtonBorderColor: \"rgba(255, 255, 255, 0.5)\"\n  };\nfunction xe() {\n  var e;\n  Ae(\"color-scheme\", ((null == (e = b()) ? void 0 : e.menuColorSetting) || {\n    adaptableColorSchemes: [\"light\"]\n  }).adaptableColorSchemes.join(\" \"));\n  var t = window.matchMedia(\"(prefers-color-scheme: dark)\");\n  Se({\n    matches: null == t ? void 0 : t.matches,\n    media: null == t ? void 0 : t.media\n  }), t.addEventListener ? t.addEventListener(\"change\", Se) : t.addListener && t.addListener(Se);\n}\nfunction Se(t) {\n  var n = b(),\n    r = (null == n ? void 0 : n.menuColorSetting) || {\n      adaptableColorSchemes: [\"light\"],\n      lightModeColor: _e,\n      darkModeColor: Be\n    },\n    o = r.adaptableColorSchemes,\n    i = r.lightModeColor,\n    a = r.darkModeColor,\n    s = o.includes(\"dark\");\n  t.matches && s ? Te(e(e({}, Be), a)) : Te(e(e({}, _e), i));\n}\nfunction Te(e) {\n  var t = e.iconColor,\n    n = e.statusBarColor,\n    r = e.titleTextColor,\n    o = e.titleSubtextColor,\n    i = e.titleButtonColor,\n    c = e.titleBackgroundColor,\n    l = e.progressBarColor,\n    u = e.progressBackgroundColor,\n    f = e.titleButtonAreaBackgroundColor,\n    d = e.titleButtonAreaBorderColor,\n    h = e.baseBackgroundColor,\n    p = e.baseTextColor,\n    v = e.lightButtonBorderColor;\n  Ae(\"--liff-base-background-color\", h), Ae(\"--liff-base-text-color\", p), Ae(\"--liff-base-background-rgb-color\", a(h)), Ae(\"--liff-base-text-rgb-color\", a(p)), Ae(\"--liff-light-button-border-color\", v), Ae(\"--liff-title-text-color\", r), Ae(\"--liff-title-background-color\", c), Ae(\"--liff-title-button-color\", i), Ae(\"--liff-icon-color\", t), Ae(\"--liff-status-bar-color\", n), Ae(\"--liff-title-subtext-color\", o), Ae(\"--liff-progress-bar-color\", l), Ae(\"--liff-progress-background-color\", u), Ae(\"--liff-title-button-area-background-color\", s(f)), Ae(\"--liff-title-button-area-border-color\", s(d));\n}\nfunction Ae(e, t) {\n  document.documentElement.style.setProperty(e, t);\n}\nfunction Ee(e) {\n  return t(this, void 0, void 0, function () {\n    return n(this, function (t) {\n      switch (t.label) {\n        case 0:\n          return [4, G()];\n        case 1:\n          return t.sent().install(e), [2];\n      }\n    });\n  });\n}\nfunction Le() {\n  return t(this, void 0, void 0, function () {\n    return n(this, function (e) {\n      switch (e.label) {\n        case 0:\n          return [4, ue(fe(\"certs\"))];\n        case 1:\n          return [2, e.sent()];\n      }\n    });\n  });\n}\nfunction Ne(e, r, o) {\n  return t(this, void 0, void 0, function () {\n    var t;\n    return n(this, function (n) {\n      switch (n.label) {\n        case 0:\n          return [4, crypto.subtle.importKey(\"jwk\", e, {\n            name: \"ECDSA\",\n            namedCurve: \"P-256\"\n          }, !1, [\"verify\"])];\n        case 1:\n          return t = n.sent(), [4, crypto.subtle.verify({\n            name: \"ECDSA\",\n            hash: {\n              name: \"SHA-256\"\n            }\n          }, t, o, r)];\n        case 2:\n          return [2, n.sent()];\n      }\n    });\n  });\n}\nfunction Ue(e, o) {\n  return t(this, void 0, void 0, function () {\n    var t, i, a, s, f, d, h, p, v, m, w, b, g, k, C, F;\n    return n(this, function (n) {\n      switch (n.label) {\n        case 0:\n          return t = e.split(\".\"), i = r(t, 3), a = i[0], s = i[1], f = i[2], d = JSON.parse(l.decode(a)), h = JSON.parse(l.decodeUnicode(s)), p = u(l.decode(f)), v = u(\"\".concat(a, \".\").concat(s)), [4, Le()];\n        case 1:\n          if (m = n.sent(), !(w = m.keys.find(function (e) {\n            return e.kid === d.kid;\n          }))) return [3, 6];\n          if (delete w.alg, \"ES256\" !== d.alg) throw c(X, 'Invalid \"alg\" value in ID_TOKEN');\n          b = void 0, n.label = 2;\n        case 2:\n          return n.trys.push([2, 4,, 5]), [4, Ne(w, v, p)];\n        case 3:\n          return b = n.sent(), [3, 5];\n        case 4:\n          throw g = n.sent(), c(X, \"\".concat(\"Failed to use Crypto API to verify ID_TOKEN\", \": \").concat(g));\n        case 5:\n          if (b) {\n            if (k = h.iss !== \"https://access.\".concat(\"line.me\"), C = h.aud !== o, F = 1e3 * h.exp < Date.now(), k) throw c(X, 'Invalid \"iss\" value in ID_TOKEN');\n            if (C) throw c(X, 'Invalid \"aud\" value in ID_TOKEN');\n            if (F) throw c(X, 'Invalid \"exp\" value in ID_TOKEN');\n            return [2, h];\n          }\n          throw c(X, \"Invalid signature in ID_TOKEN\");\n        case 6:\n          throw c(X, 'Invalid \"kid\" value in ID_TOKEN');\n        case 7:\n          return [2];\n      }\n    });\n  });\n}\nfunction De(e) {\n  var t = e.split(\".\");\n  if (t[1]) try {\n    var n = t[1].replace(/-/g, \"+\").replace(/_/g, \"/\");\n    return JSON.parse(window.atob(n));\n  } catch (r) {\n    return null;\n  }\n  return null;\n}\nfunction Oe(e) {\n  var t = e.pathname,\n    n = e.query,\n    r = n ? \"?\".concat(d.stringify(n)) : \"\",\n    o = \"\".concat(\"liff://\").concat(t).concat(r);\n  location.href = o;\n}\nvar Pe = null;\nfunction We() {\n  \"boolean\" == typeof Pe && he.warn(\"liff.init is not expected to be called more than once\"), Pe = !!C() || !(!te() || d.parse(window.location.hash).feature_token || F()) && (I(!0), !0);\n}\nfunction Ke() {\n  return Boolean(Pe);\n}\nfunction Me(e, r) {\n  return t(this, void 0, void 0, function () {\n    var t;\n    return n(this, function (n) {\n      switch (n.label) {\n        case 0:\n          return (t = y()) ? [2, t] : e && r ? [4, oe({\n            msit: e,\n            mstVerifier: r\n          })] : [3, 2];\n        case 1:\n          return [2, n.sent().mst];\n        case 2:\n          return [2, null];\n      }\n    });\n  });\n}\nfunction je(e) {\n  return ue(\"\".concat(fe(\"apps\"), \"/\").concat(e, \"/featureToken\"));\n}\nfunction Re(e) {\n  return t(this, void 0, void 0, function () {\n    var t, r, o, a;\n    return n(this, function (n) {\n      switch (n.label) {\n        case 0:\n          return t = d.parse(window.location.hash), r = p({\n            access_token: _(),\n            context_token: B(),\n            feature_token: F(),\n            id_token: x(),\n            client_id: S(),\n            mst_challenge: T(),\n            mst_verifier: A(),\n            msit: E()\n          }, t), Ke() ? i() ? [4, je(e)] : [3, 2] : [3, 3];\n        case 1:\n          o = n.sent().featureToken, r.feature_token || (r.feature_token = o), n.label = 2;\n        case 2:\n          (a = h(e)) && (r.client_id = a), n.label = 3;\n        case 3:\n          return [2, r];\n      }\n    });\n  });\n}\nfunction He(e) {\n  if (e.persisted && we(\"multipleLiffTransition\")) if (\"ios\" === be()) window.location.reload();else {\n    var t = L().liffId,\n      n = F();\n    if (!t) throw c(Q, \"Invalid LIFF ID.\");\n    if (!n) throw c(Y, \"Invalid featureToken for client features\");\n    Oe({\n      pathname: \"app/\".concat(t),\n      query: {\n        feature_token: n\n      }\n    });\n  }\n}\nfunction Je(e, r) {\n  return t(this, void 0, void 0, function () {\n    var t, o;\n    return n(this, function (n) {\n      switch (n.label) {\n        case 0:\n          return [4, de(e)];\n        case 1:\n          return t = n.sent().client_id, o = h(r), [2, t === o];\n      }\n    });\n  });\n}\nfunction Ve(e, r) {\n  var o, a;\n  return t(this, void 0, void 0, function () {\n    var t, s, l, u, d, h, p, m, w, g, k, C, F;\n    return n(this, function (n) {\n      switch (n.label) {\n        case 0:\n          return [4, new Promise(function (e) {\n            var t = pe();\n            if (!t || f(t, \"9.5.0\") < 0) e();else if (window._liff && window._liff.features) e();else {\n              he.debug(\"cannot find window._liff.features, listen to ready event\");\n              var n = function n() {\n                he.debug(\"ready event is fired\"), me(\"ready\", n), e();\n              };\n              ve(\"ready\", n);\n            }\n          })];\n        case 1:\n          return n.sent(), We(), [4, Re(r.liffId)];\n        case 2:\n          if (t = n.sent(), s = t.access_token, l = t.context_token, u = t.feature_token, d = t.id_token, h = t.client_id, p = t.mst_verifier, m = t.mst_challenge, w = t.msit, l) {\n            if (\"string\" != typeof l) throw c(Q, \"Cannot get context token, perhaps there is an incorrect parameter in permanent link\");\n            W(De(l));\n          }\n          if (void 0 !== (null === (o = b()) || void 0 === o ? void 0 : o.liffId) && (null === (a = b()) || void 0 === a ? void 0 : a.liffId) !== r.liffId) throw c(Q, \"Invalid LIFF ID\");\n          return !re() && u && (!function (e, t) {\n            we(\"multipleLiffTransition\") && Oe({\n              pathname: \"app/\".concat(e),\n              query: {\n                feature_token: t\n              }\n            });\n          }(r.liffId, u), Ke() && O(u)), m && K(m), p && M(p), h && j(h), w && R(w), window.addEventListener(\"pageshow\", He), i() ? [3, 7] : u && s ? [3, 5] : Ke() ? (g = v(location.href, {\n            \"liff.hback\": \"2\"\n          }), e.login({\n            redirectUri: g\n          }), [4, new Promise(function () {})]) : [3, 4];\n        case 3:\n          n.sent(), n.label = 4;\n        case 4:\n          throw e.login(), c(Q, \"Failed to parse feature_token or access_token\");\n        case 5:\n          return [4, Je(s, r.liffId)];\n        case 6:\n          if (!n.sent()) throw e.login(), c(Q, \"Failed to verify access_token\");\n          O(u), P(s), n.label = 7;\n        case 7:\n          return [4, Me(w, p)];\n        case 8:\n          return (k = n.sent()) ? (D(k), [4, ie({\n            mst: k\n          })]) : [3, 10];\n        case 9:\n          (C = n.sent().data) && U(JSON.stringify(C)), n.label = 10;\n        case 10:\n          return d && !x() && H(d), d && h && !J() ? [4, Ue(d, h)] : [3, 12];\n        case 11:\n          (F = n.sent()) && N(F), n.label = 12;\n        case 12:\n          return [2];\n      }\n    });\n  });\n}\nfunction qe(e) {\n  return t(this, void 0, void 0, function () {\n    var t, r, o, i, a, s, l;\n    return n(this, function (n) {\n      switch (n.label) {\n        case 0:\n          return t = fe(\"apps\"), r = \"\".concat(t, \"/\").concat(e, \"/contextToken\"), o = _(), i = {\n            \"Content-Type\": \"application/json\",\n            Accept: \"application/json\"\n          }, o && (i.Authorization = \"Bearer \".concat(o)), [4, ue(r, {\n            headers: i\n          })];\n        case 1:\n          if (a = n.sent(), !(s = a.contextToken)) throw c(Q, \"Can not get context from server.\");\n          if (!(l = De(s))) throw c(Q, \"Invalid context token.\");\n          return [2, l];\n      }\n    });\n  });\n}\nfunction ze() {\n  return t(this, void 0, void 0, function () {\n    var e, t;\n    return n(this, function (n) {\n      switch (n.label) {\n        case 0:\n          if (!(e = L().liffId)) throw c(Q, \"Invalid LIFF ID.\");\n          return [4, qe(e)];\n        case 1:\n          return t = n.sent(), W(t), [2];\n      }\n    });\n  });\n}\nfunction Ge(e) {\n  return t(this, void 0, void 0, function () {\n    var r,\n      o,\n      i,\n      a = this;\n    return n(this, function (s) {\n      switch (s.label) {\n        case 0:\n          r = function r() {\n            return t(a, void 0, void 0, function () {\n              var t, r, o, i, a, s;\n              return n(this, function (n) {\n                switch (n.label) {\n                  case 0:\n                    return [4, (c = L(), l = d.parse(window.location.search), u = g(), f = {\n                      grant_type: \"authorization_code\",\n                      client_id: l.liffClientId,\n                      appId: c.liffId,\n                      code: l.code,\n                      code_verifier: u.codeVerifier,\n                      redirect_uri: c.redirectUri || l.liffRedirectUri,\n                      id_token_key_type: \"JWK\"\n                    }, h = d.stringify(f), ue(fe(\"token\"), {\n                      method: \"POST\",\n                      headers: {\n                        \"Content-Type\": \"application/x-www-form-urlencoded;charset=UTF-8\"\n                      },\n                      body: h\n                    }))];\n                  case 1:\n                    return t = n.sent(), r = t.access_token, o = t.id_token, i = t.expires_in, j(e), P(r), q(new Date(Date.now() + 1e3 * i)), V(), o ? (H(o), [4, Ue(o, e)]) : [3, 3];\n                  case 2:\n                    (a = n.sent()) && N(a), n.label = 3;\n                  case 3:\n                    return (s = d.parse(location.hash).context_token) ? (W(De(s)), [3, 6]) : [3, 4];\n                  case 4:\n                    return [4, ze()];\n                  case 5:\n                    n.sent(), n.label = 6;\n                  case 6:\n                    return [2];\n                }\n                var c, l, u, f, h;\n              });\n            });\n          }, s.label = 1;\n        case 1:\n          return s.trys.push([1, 3,, 4]), [4, r()];\n        case 2:\n          return s.sent(), [3, 4];\n        case 3:\n          throw o = s.sent(), i = o, V(), i;\n        case 4:\n          return [2];\n      }\n    });\n  });\n}\nfunction Qe() {\n  return t(this, void 0, void 0, function () {\n    var e,\n      r,\n      o,\n      a,\n      s,\n      c,\n      l = this;\n    return n(this, function (u) {\n      switch (u.label) {\n        case 0:\n          return (r = se()) ? [3, 2] : [4, ce(Ce.SUB)];\n        case 1:\n          r = u.sent(), u.label = 2;\n        case 2:\n          return (e = r).isReady() ? (o = m(8), [4, e.getData(\"appData\")]) : [3, 8];\n        case 3:\n          return a = u.sent(), s = a.eventName, c = a.data, s !== ke.NOT_FOUND ? [3, 6] : [4, e.teardown()];\n        case 4:\n          return u.sent(), [4, Qe()];\n        case 5:\n          return [2, u.sent()];\n        case 6:\n          c && U(JSON.stringify(c)), u.label = 7;\n        case 7:\n          return e.listen(function (r) {\n            return t(l, void 0, void 0, function () {\n              var t, i;\n              return n(this, function (n) {\n                return t = r.context, i = t.data, t.eventName === Z.INIT && (null == i ? void 0 : i.subWindowId) !== o && ge(), t.eventName !== Z.CANCEL && t.eventName !== Z.SUBMIT || e.teardown(), [2];\n              });\n            });\n          }), i() && e.send({\n            eventName: Z.INIT,\n            data: {\n              subWindowId: o,\n              hasOpener: !!window.opener\n            }\n          }), [3, 10];\n        case 8:\n          return ae() ? [3, 10] : [4, new Promise(function (e) {\n            window.addEventListener(\"message\", function (e) {\n              return function t(n) {\n                var r = n.data,\n                  o = n.source,\n                  i = n.origin;\n                if (r) {\n                  var a = r.type,\n                    s = r.message;\n                  a === $ && (window.removeEventListener(\"message\", t), s && U(s), le(i), o && o.postMessage && o.postMessage({\n                    status: $\n                  }, i), e());\n                }\n              };\n            }(e));\n          })];\n        case 9:\n          return [2, u.sent()];\n        case 10:\n          return [2];\n      }\n    });\n  });\n}\nvar Xe = new (function () {\n  function e() {\n    var e = this;\n    this.getAndValidateContext = function () {\n      var e = b();\n      if (!e) throw c(Q, \"Could not get Context from server.\");\n      if (!e.endpointUrl) throw c(Q, \"Could not get endpointUrl from server.\");\n      if (!e.permanentLinkPattern) throw c(Q, \"Could not get permanentLinkPattern from server.\");\n      return e;\n    }, this.decodeState = function (t) {\n      var n = e.getAndValidateContext();\n      t = t.replace(/\\n/g, \"%0D%0A\");\n      var r = !n.endpointUrl.startsWith(\"/?\") && n.endpointUrl.includes(\"/?\") || !n.endpointUrl.startsWith(\"/#\") && n.endpointUrl.includes(\"/#\") || n.endpointUrl.endsWith(\"/\") || !t.startsWith(\"/?\") && t.includes(\"/?\") || !t.startsWith(\"/#\") && t.includes(\"/#\") || t.endsWith(\"/\"),\n        o = new URL(n.endpointUrl),\n        i = o.origin,\n        a = o.pathname,\n        s = o.search,\n        c = new URL(\"\".concat(i).concat(e.attachSlashAtStart(t))),\n        l = c.pathname,\n        u = c.search,\n        f = c.hash,\n        d = \"\".concat(s).concat(s ? u.replace(/\\?/g, \"&\") : u),\n        h = \"\".concat(a).concat(e.attachSlashAtStart(l)).replace(\"//\", \"/\");\n      return (h = e.attachSlashAtStart(\"\".concat(h))).endsWith(\"/\") && !r && (h = h.substring(0, h.length - 1)), \"\".concat(i).concat(h).concat(d).concat(f).replace(/%0D%0A/g, \"\\n\");\n    };\n  }\n  return e.prototype.attachSlashAtStart = function (e) {\n    return \"\".concat(e && e.length > 0 && !e.startsWith(\"/\") ? \"/\" : \"\").concat(e);\n  }, e.prototype.invoke = function () {\n    return t(this, void 0, void 0, function () {\n      var e, t, r, o, i;\n      return n(this, function (n) {\n        switch (n.label) {\n          case 0:\n            if (e = d.parse(window.location.search), \"string\" != typeof (t = e[\"liff.state\"])) return [2];\n            n.label = 1;\n          case 1:\n            return n.trys.push([1, 4,, 5]), r = location.href, (o = this.decodeState(t)) === r ? [3, 3] : (e[\"liff.hback\"] ? location.replace(v(o, {\n              \"liff.hback\": e[\"liff.hback\"]\n            })) : location.replace(o), [4, new Promise(function () {})]);\n          case 2:\n            n.sent(), n.label = 3;\n          case 3:\n            return [3, 5];\n          case 4:\n            if ((i = n.sent()).code === Q) throw i;\n            return he.debug(i), [3, 5];\n          case 5:\n            return [2];\n        }\n      });\n    });\n  }, e;\n}())();\nfunction Ye(e, r, o) {\n  return t(this, void 0, void 0, function () {\n    var t;\n    return n(this, function (n) {\n      switch (n.label) {\n        case 0:\n          if (!r.liffId) throw c(ee, \"liffId is necessary for liff.init()\");\n          return z(r), !te() && i() && (k() || ne()), t = d.parse(window.location.search), !re() || te() ? [3, 2] : [4, Qe()];\n        case 1:\n          n.sent(), n.label = 2;\n        case 2:\n          if (t.error && t.liffOAuth2Error) throw l = t.error, u = t.error_description, f = u.replace(/\\+/g, \" \"), h = \"\".concat(l, \": \").concat(f), c(Q, h);\n          return a = t.code, s = g(), Boolean(a && !i() && s && s.codeVerifier) ? [4, Ge(t.liffClientId)] : [3, 4];\n        case 3:\n          n.sent(), n.label = 4;\n        case 4:\n          return te() ? [4, Ve(e, r)] : [3, 6];\n        case 5:\n          return n.sent(), [3, 8];\n        case 6:\n          return i() ? [3, 8] : [4, ze()];\n        case 7:\n          n.sent(), n.label = 8;\n        case 8:\n          return [4, Xe.invoke()];\n        case 9:\n          return n.sent(), [4, o()];\n        case 10:\n          return n.sent(), w(window.location.href), [2];\n      }\n      var a, s, l, u, f, h;\n    });\n  });\n}\nvar Ze = function Ze(e, t) {\n    return new Promise(function (n, r) {\n      if (e) {\n        var o = document.createElement(\"script\");\n        o.type = \"module\", o.onload = function () {\n          n();\n        }, o.src = e, document.head.appendChild(o);\n      } else r(c(ee, t));\n    });\n  },\n  $e = function $e(e) {\n    var t = \"https://static.line-scdn.net/lui/edge/versions/1.13.0/lui-alert.js\";\n    return t && e && (t = t.replace(/\\d{1,2}\\.\\d{1,2}\\.\\d{1,3}/, e)), Ze(t, \"LUI_ALERT_URL is not defined\");\n  },\n  et = function et() {\n    return t(void 0, void 0, void 0, function () {\n      var e;\n      return n(this, function (t) {\n        switch (t.label) {\n          case 0:\n            return e = function () {\n              var e,\n                t = document.querySelector('script[src*=\"luivendor.js\"]');\n              if (t && (null === (e = t.src.match(/\\d{1,2}\\.\\d{1,2}\\.\\d{1,3}/g)) || void 0 === e ? void 0 : e.length)) return t.src.match(/\\d{1,2}\\.\\d{1,2}\\.\\d{1,3}/g)[0];\n            }(), e ? [3, 2] : [4, Ze(\"https://static.line-scdn.net/lui/edge/versions/1.13.0/luivendor.js\", \"LUI_VENDOR_URL is not defined\")];\n          case 1:\n            t.sent(), t.label = 2;\n          case 2:\n            return [4, $e(e)];\n          case 3:\n            return t.sent(), [4, (n = m(6), new Promise(function () {\n              var e = document.createElement(\"div\");\n              e.innerHTML = '<lui-alert id=\"'.concat(\"liffAlert\", \"-\").concat(n, '\" shown title=\"').concat(ye(\"alert.android.extBrowser.autoLoginWorkaround.title\"), '\" message=\"').concat(ye(\"alert.android.extBrowser.autoLoginWorkaround.desc\"), '\" button=\"').concat(ye(\"alert.android.extBrowser.autoLoginWorkaround.button.text\"), '\"></lui-alert>'), document.body.appendChild(e);\n              var t = document.getElementById(\"\".concat(\"liffAlert\", \"-\").concat(n));\n              t && t.addEventListener(\"lui-button-click\", function () {\n                var e = window.open(\"\".concat(window.location.href, \"&liffIsEscapedFromApp=true\"), \"_blank\");\n                e && (e.location.href = \"\".concat(window.location.href, \"&liffIsEscapedFromApp=true\"), window.close());\n              });\n            }))];\n          case 4:\n            return t.sent(), [2];\n        }\n        var n;\n      });\n    });\n  };\nfunction tt() {\n  return t(this, void 0, void 0, function () {\n    var e;\n    return n(this, function (t) {\n      switch (t.label) {\n        case 0:\n          return te() || \"android\" !== be() || (e = d.parse(window.location.search))[Fe] || e.liffIsEscapedFromApp ? [3, 6] : e.liffClientId && document.referrer.includes(\"access.\".concat(\"line.me\")) ? (window.location.href = \"\".concat(window.location.href, \"&liffIsEscapedFromApp=true\"), [2]) : e.liffClientId && document.referrer.includes(\"android-app://\") ? [4, et()] : [3, 2];\n        case 1:\n          t.sent(), t.label = 2;\n        case 2:\n          return e.liffClientId && \"\" === document.referrer && 1 === window.history.length ? [4, et()] : [3, 4];\n        case 3:\n          t.sent(), t.label = 4;\n        case 4:\n          return !document.referrer.includes(\"liffClientId\") || document.referrer.includes(\"liffIsEscapedFromApp\") ? [3, 6] : [4, et()];\n        case 5:\n          t.sent(), t.label = 6;\n        case 6:\n          return [2];\n      }\n    });\n  });\n}\nvar nt = function () {\n  function e() {\n    this.hooks = {\n      before: new Ie(),\n      after: new Ie()\n    }, this.internalHooks = {\n      beforeFinished: new Ie(),\n      beforeSuccess: new Ie(),\n      error: new Ie()\n    };\n  }\n  return Object.defineProperty(e.prototype, \"name\", {\n    get: function get() {\n      return \"init\";\n    },\n    enumerable: !1,\n    configurable: !0\n  }), e.prototype.install = function (e) {\n    var t = e.liff;\n    return this.liff = t, this.init.bind(this);\n  }, e.prototype.init = function (e, r, a) {\n    return t(this, void 0, void 0, function () {\n      var t;\n      return n(this, function (n) {\n        switch (n.label) {\n          case 0:\n            return [4, this.hooks.before.call()];\n          case 1:\n            n.sent(), s = this.liff, window && !window.liff && (window.liff = s), n.label = 2;\n          case 2:\n            return n.trys.push([2, 9,, 11]), [4, Promise.all([Ee(this.liff), Ye(this.liff, e, this.internalHooks.beforeFinished.call)])];\n          case 3:\n            return n.sent(), xe(), [4, this.internalHooks.beforeSuccess.call()];\n          case 4:\n            return n.sent(), !e.withLoginOnExternalBrowser || i() ? [3, 6] : (this.liff.login(), [4, new Promise(function () {})]);\n          case 5:\n            n.sent(), n.label = 6;\n          case 6:\n            return [4, tt()];\n          case 7:\n            return n.sent(), [4, this.hooks.after.call()];\n          case 8:\n            return n.sent(), \"function\" == typeof r && r(), o(), [3, 11];\n          case 9:\n            return t = n.sent(), [4, this.internalHooks.error.call(t)];\n          case 10:\n            throw n.sent(), \"function\" == typeof a && a(t), t;\n          case 11:\n            return [2];\n        }\n        var s;\n      });\n    });\n  }, e;\n}();\nexport { nt as InitModule };","map":{"version":3,"names":["__assign","e","__awaiter","t","__generator","n","__read","r","done","o","isLoggedIn","i","convertHexToRgb","a","convertArgbToRgba","s","createLiffError","c","base64Url","l","convertArrayBuffer","u","compareVersion","f","qs","d","extractChannelIdFromLiffId","h","objectAssignKeyOnlyWithValue","p","addParamsToUrl","v","randomAlphaNumericString","m","replaceUrlCredentialRemoved","w","getContext","b","getLoginTmp","g","getExpireTime","k","getIsSubsequentLiffApp","C","getFeatureToken","F","setIsSubsequentLiffApp","I","getMST","y","getAccessToken","_","getRawContext","B","getIDToken","x","getClientId","S","getMSTChallenge","T","getMSTVerifier","A","getMSIT","E","getConfig","L","setDecodedIDToken","N","setAppData","U","setMST","D","setFeatureToken","O","setAccessToken","P","setContext","W","setMSTChallenge","K","setMSTVerifier","M","setClientId","j","setMSIT","R","setIDToken","H","getDecodedIDToken","J","removeLoginTmp","V","setExpireTime","q","setConfig","z","load","G","INIT_FAILED","Q","INVALID_ID_TOKEN","X","FORBIDDEN","Y","SUB_WINDOW_STATUS","Z","SUB_WINDOW_HEALTH_CHECK_MESSAGE","$","INVALID_CONFIG","ee","isInClient","te","logout","ne","isSubWindow","re","getMSTByMSIT","oe","getAppData","ie","getMainWindowOrigin","ae","getMessageBus","se","initMessageBus","ce","setMainWindowOrigin","le","fetch","ue","getEndPoint","fe","verifyAccessToken","de","logger","he","getLineVersion","pe","addListener","ve","removeListener","me","isApiAvailable","we","getOS","be","closeWindow","ge","EVENT_NAME","ke","WINDOW","Ce","IDENTIFIER_KEY","Fe","AsyncHook","Ie","ye","_e","iconColor","statusBarColor","titleTextColor","titleSubtextColor","titleButtonColor","titleBackgroundColor","progressBarColor","progressBackgroundColor","titleButtonAreaBackgroundColor","titleButtonAreaBorderColor","baseBackgroundColor","baseTextColor","lightButtonBorderColor","Be","xe","Ae","menuColorSetting","adaptableColorSchemes","join","window","matchMedia","Se","matches","media","addEventListener","lightModeColor","darkModeColor","includes","Te","document","documentElement","style","setProperty","Ee","label","sent","install","Le","Ne","crypto","subtle","importKey","name","namedCurve","verify","hash","Ue","split","JSON","parse","decode","decodeUnicode","concat","keys","find","kid","alg","trys","push","iss","aud","exp","Date","now","De","replace","atob","Oe","pathname","query","stringify","location","href","Pe","We","warn","feature_token","Ke","Boolean","Me","msit","mstVerifier","mst","je","Re","access_token","context_token","id_token","client_id","mst_challenge","mst_verifier","featureToken","He","persisted","reload","liffId","Je","Ve","Promise","_liff","features","debug","login","redirectUri","data","qe","Accept","Authorization","headers","contextToken","ze","Ge","search","grant_type","liffClientId","appId","code","code_verifier","codeVerifier","redirect_uri","liffRedirectUri","id_token_key_type","method","body","expires_in","Qe","SUB","isReady","getData","eventName","NOT_FOUND","teardown","listen","context","INIT","subWindowId","CANCEL","SUBMIT","send","hasOpener","opener","source","origin","type","message","removeEventListener","postMessage","status","Xe","getAndValidateContext","endpointUrl","permanentLinkPattern","decodeState","startsWith","endsWith","URL","attachSlashAtStart","substring","length","prototype","invoke","Ye","error","liffOAuth2Error","error_description","Ze","createElement","onload","src","head","appendChild","$e","et","querySelector","match","innerHTML","getElementById","open","close","tt","liffIsEscapedFromApp","referrer","history","nt","hooks","before","after","internalHooks","beforeFinished","beforeSuccess","Object","defineProperty","get","enumerable","configurable","liff","init","bind","call","all","withLoginOnExternalBrowser","InitModule"],"sources":["/Users/navamongkoltongta/workspace/sn2/shopassistant-register/node_modules/@liff/init/lib/index.es.js"],"sourcesContent":["import{__assign as e,__awaiter as t,__generator as n,__read as r}from\"tslib\";import{done as o}from\"@liff/ready\";import{isLoggedIn as i}from\"@liff/is-logged-in\";import{convertHexToRgb as a,convertArgbToRgba as s,createLiffError as c,base64Url as l,convertArrayBuffer as u,compareVersion as f,qs as d,extractChannelIdFromLiffId as h,objectAssignKeyOnlyWithValue as p,addParamsToUrl as v,randomAlphaNumericString as m,replaceUrlCredentialRemoved as w}from\"@liff/util\";import{getContext as b,getLoginTmp as g,getExpireTime as k,getIsSubsequentLiffApp as C,getFeatureToken as F,setIsSubsequentLiffApp as I,getMST as y,getAccessToken as _,getRawContext as B,getIDToken as x,getClientId as S,getMSTChallenge as T,getMSTVerifier as A,getMSIT as E,getConfig as L,setDecodedIDToken as N,setAppData as U,setMST as D,setFeatureToken as O,setAccessToken as P,setContext as W,setMSTChallenge as K,setMSTVerifier as M,setClientId as j,setMSIT as R,setIDToken as H,getDecodedIDToken as J,removeLoginTmp as V,setExpireTime as q,setConfig as z}from\"@liff/store\";import{load as G}from\"@liff/extensions\";import{INIT_FAILED as Q,INVALID_ID_TOKEN as X,FORBIDDEN as Y,SUB_WINDOW_STATUS as Z,SUB_WINDOW_HEALTH_CHECK_MESSAGE as $,INVALID_CONFIG as ee}from\"@liff/consts\";import{isInClient as te}from\"@liff/is-in-client\";import{logout as ne}from\"@liff/logout\";import{isSubWindow as re}from\"@liff/is-sub-window\";import{getMSTByMSIT as oe,getAppData as ie,getMainWindowOrigin as ae,getMessageBus as se,initMessageBus as ce,setMainWindowOrigin as le}from\"@liff/sub-window\";import{fetch as ue,getEndPoint as fe,verifyAccessToken as de}from\"@liff/server-api\";import{logger as he}from\"@liff/logger\";import{getLineVersion as pe}from\"@liff/get-line-version\";import{addListener as ve,removeListener as me}from\"@liff/native-bridge\";import{isApiAvailable as we}from\"@liff/is-api-available\";import{getOS as be}from\"@liff/get-os\";import{closeWindow as ge}from\"@liff/close-window\";import{EVENT_NAME as ke,WINDOW as Ce,IDENTIFIER_KEY as Fe}from\"@liff/message-bus\";import{AsyncHook as Ie}from\"@liff/hooks\";import{t as ye}from\"@liff/i18n\";var _e={iconColor:\"#111111\",statusBarColor:\"BLACK\",titleTextColor:\"#111111\",titleSubtextColor:\"#B7B7B7\",titleButtonColor:\"#111111\",titleBackgroundColor:\"#FFFFFF\",progressBarColor:\"#06C755\",progressBackgroundColor:\"#FFFFFF\",titleButtonAreaBackgroundColor:\"#1FFFFFFF\",titleButtonAreaBorderColor:\"#26000000\",baseBackgroundColor:\"#FFFFFF\",baseTextColor:\"#000000\",lightButtonBorderColor:\"rgba(0, 0, 0, 0.15)\"},Be={iconColor:\"#FFFFFF\",statusBarColor:\"WHITE\",titleTextColor:\"#FFFFFF\",titleSubtextColor:\"#949494\",titleButtonColor:\"#FFFFFF\",titleBackgroundColor:\"#111111\",progressBarColor:\"#06C755\",progressBackgroundColor:\"#111111\",titleButtonAreaBackgroundColor:\"#1FFFFFFF\",titleButtonAreaBorderColor:\"#26000000\",baseBackgroundColor:\"#000000\",baseTextColor:\"#FFFFFF\",lightButtonBorderColor:\"rgba(255, 255, 255, 0.5)\"};function xe(){var e;Ae(\"color-scheme\",((null==(e=b())?void 0:e.menuColorSetting)||{adaptableColorSchemes:[\"light\"]}).adaptableColorSchemes.join(\" \"));var t=window.matchMedia(\"(prefers-color-scheme: dark)\");Se({matches:null==t?void 0:t.matches,media:null==t?void 0:t.media}),t.addEventListener?t.addEventListener(\"change\",Se):t.addListener&&t.addListener(Se)}function Se(t){var n=b(),r=(null==n?void 0:n.menuColorSetting)||{adaptableColorSchemes:[\"light\"],lightModeColor:_e,darkModeColor:Be},o=r.adaptableColorSchemes,i=r.lightModeColor,a=r.darkModeColor,s=o.includes(\"dark\");t.matches&&s?Te(e(e({},Be),a)):Te(e(e({},_e),i))}function Te(e){var t=e.iconColor,n=e.statusBarColor,r=e.titleTextColor,o=e.titleSubtextColor,i=e.titleButtonColor,c=e.titleBackgroundColor,l=e.progressBarColor,u=e.progressBackgroundColor,f=e.titleButtonAreaBackgroundColor,d=e.titleButtonAreaBorderColor,h=e.baseBackgroundColor,p=e.baseTextColor,v=e.lightButtonBorderColor;Ae(\"--liff-base-background-color\",h),Ae(\"--liff-base-text-color\",p),Ae(\"--liff-base-background-rgb-color\",a(h)),Ae(\"--liff-base-text-rgb-color\",a(p)),Ae(\"--liff-light-button-border-color\",v),Ae(\"--liff-title-text-color\",r),Ae(\"--liff-title-background-color\",c),Ae(\"--liff-title-button-color\",i),Ae(\"--liff-icon-color\",t),Ae(\"--liff-status-bar-color\",n),Ae(\"--liff-title-subtext-color\",o),Ae(\"--liff-progress-bar-color\",l),Ae(\"--liff-progress-background-color\",u),Ae(\"--liff-title-button-area-background-color\",s(f)),Ae(\"--liff-title-button-area-border-color\",s(d))}function Ae(e,t){document.documentElement.style.setProperty(e,t)}function Ee(e){return t(this,void 0,void 0,(function(){return n(this,(function(t){switch(t.label){case 0:return[4,G()];case 1:return t.sent().install(e),[2]}}))}))}function Le(){return t(this,void 0,void 0,(function(){return n(this,(function(e){switch(e.label){case 0:return[4,ue(fe(\"certs\"))];case 1:return[2,e.sent()]}}))}))}function Ne(e,r,o){return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return[4,crypto.subtle.importKey(\"jwk\",e,{name:\"ECDSA\",namedCurve:\"P-256\"},!1,[\"verify\"])];case 1:return t=n.sent(),[4,crypto.subtle.verify({name:\"ECDSA\",hash:{name:\"SHA-256\"}},t,o,r)];case 2:return[2,n.sent()]}}))}))}function Ue(e,o){return t(this,void 0,void 0,(function(){var t,i,a,s,f,d,h,p,v,m,w,b,g,k,C,F;return n(this,(function(n){switch(n.label){case 0:return t=e.split(\".\"),i=r(t,3),a=i[0],s=i[1],f=i[2],d=JSON.parse(l.decode(a)),h=JSON.parse(l.decodeUnicode(s)),p=u(l.decode(f)),v=u(\"\".concat(a,\".\").concat(s)),[4,Le()];case 1:if(m=n.sent(),!(w=m.keys.find((function(e){return e.kid===d.kid}))))return[3,6];if(delete w.alg,\"ES256\"!==d.alg)throw c(X,'Invalid \"alg\" value in ID_TOKEN');b=void 0,n.label=2;case 2:return n.trys.push([2,4,,5]),[4,Ne(w,v,p)];case 3:return b=n.sent(),[3,5];case 4:throw g=n.sent(),c(X,\"\".concat(\"Failed to use Crypto API to verify ID_TOKEN\",\": \").concat(g));case 5:if(b){if(k=h.iss!==\"https://access.\".concat(\"line.me\"),C=h.aud!==o,F=1e3*h.exp<Date.now(),k)throw c(X,'Invalid \"iss\" value in ID_TOKEN');if(C)throw c(X,'Invalid \"aud\" value in ID_TOKEN');if(F)throw c(X,'Invalid \"exp\" value in ID_TOKEN');return[2,h]}throw c(X,\"Invalid signature in ID_TOKEN\");case 6:throw c(X,'Invalid \"kid\" value in ID_TOKEN');case 7:return[2]}}))}))}function De(e){var t=e.split(\".\");if(t[1])try{var n=t[1].replace(/-/g,\"+\").replace(/_/g,\"/\");return JSON.parse(window.atob(n))}catch(r){return null}return null}function Oe(e){var t=e.pathname,n=e.query,r=n?\"?\".concat(d.stringify(n)):\"\",o=\"\".concat(\"liff://\").concat(t).concat(r);location.href=o}var Pe=null;function We(){\"boolean\"==typeof Pe&&he.warn(\"liff.init is not expected to be called more than once\"),Pe=!!C()||!(!te()||d.parse(window.location.hash).feature_token||F())&&(I(!0),!0)}function Ke(){return Boolean(Pe)}function Me(e,r){return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return(t=y())?[2,t]:e&&r?[4,oe({msit:e,mstVerifier:r})]:[3,2];case 1:return[2,n.sent().mst];case 2:return[2,null]}}))}))}function je(e){return ue(\"\".concat(fe(\"apps\"),\"/\").concat(e,\"/featureToken\"))}function Re(e){return t(this,void 0,void 0,(function(){var t,r,o,a;return n(this,(function(n){switch(n.label){case 0:return t=d.parse(window.location.hash),r=p({access_token:_(),context_token:B(),feature_token:F(),id_token:x(),client_id:S(),mst_challenge:T(),mst_verifier:A(),msit:E()},t),Ke()?i()?[4,je(e)]:[3,2]:[3,3];case 1:o=n.sent().featureToken,r.feature_token||(r.feature_token=o),n.label=2;case 2:(a=h(e))&&(r.client_id=a),n.label=3;case 3:return[2,r]}}))}))}function He(e){if(e.persisted&&we(\"multipleLiffTransition\"))if(\"ios\"===be())window.location.reload();else{var t=L().liffId,n=F();if(!t)throw c(Q,\"Invalid LIFF ID.\");if(!n)throw c(Y,\"Invalid featureToken for client features\");Oe({pathname:\"app/\".concat(t),query:{feature_token:n}})}}function Je(e,r){return t(this,void 0,void 0,(function(){var t,o;return n(this,(function(n){switch(n.label){case 0:return[4,de(e)];case 1:return t=n.sent().client_id,o=h(r),[2,t===o]}}))}))}function Ve(e,r){var o,a;return t(this,void 0,void 0,(function(){var t,s,l,u,d,h,p,m,w,g,k,C,F;return n(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(e){var t=pe();if(!t||f(t,\"9.5.0\")<0)e();else if(window._liff&&window._liff.features)e();else{he.debug(\"cannot find window._liff.features, listen to ready event\");var n=function(){he.debug(\"ready event is fired\"),me(\"ready\",n),e()};ve(\"ready\",n)}}))];case 1:return n.sent(),We(),[4,Re(r.liffId)];case 2:if(t=n.sent(),s=t.access_token,l=t.context_token,u=t.feature_token,d=t.id_token,h=t.client_id,p=t.mst_verifier,m=t.mst_challenge,w=t.msit,l){if(\"string\"!=typeof l)throw c(Q,\"Cannot get context token, perhaps there is an incorrect parameter in permanent link\");W(De(l))}if(void 0!==(null===(o=b())||void 0===o?void 0:o.liffId)&&(null===(a=b())||void 0===a?void 0:a.liffId)!==r.liffId)throw c(Q,\"Invalid LIFF ID\");return!re()&&u&&(!function(e,t){we(\"multipleLiffTransition\")&&Oe({pathname:\"app/\".concat(e),query:{feature_token:t}})}(r.liffId,u),Ke()&&O(u)),m&&K(m),p&&M(p),h&&j(h),w&&R(w),window.addEventListener(\"pageshow\",He),i()?[3,7]:u&&s?[3,5]:Ke()?(g=v(location.href,{\"liff.hback\":\"2\"}),e.login({redirectUri:g}),[4,new Promise((function(){}))]):[3,4];case 3:n.sent(),n.label=4;case 4:throw e.login(),c(Q,\"Failed to parse feature_token or access_token\");case 5:return[4,Je(s,r.liffId)];case 6:if(!n.sent())throw e.login(),c(Q,\"Failed to verify access_token\");O(u),P(s),n.label=7;case 7:return[4,Me(w,p)];case 8:return(k=n.sent())?(D(k),[4,ie({mst:k})]):[3,10];case 9:(C=n.sent().data)&&U(JSON.stringify(C)),n.label=10;case 10:return d&&!x()&&H(d),d&&h&&!J()?[4,Ue(d,h)]:[3,12];case 11:(F=n.sent())&&N(F),n.label=12;case 12:return[2]}}))}))}function qe(e){return t(this,void 0,void 0,(function(){var t,r,o,i,a,s,l;return n(this,(function(n){switch(n.label){case 0:return t=fe(\"apps\"),r=\"\".concat(t,\"/\").concat(e,\"/contextToken\"),o=_(),i={\"Content-Type\":\"application/json\",Accept:\"application/json\"},o&&(i.Authorization=\"Bearer \".concat(o)),[4,ue(r,{headers:i})];case 1:if(a=n.sent(),!(s=a.contextToken))throw c(Q,\"Can not get context from server.\");if(!(l=De(s)))throw c(Q,\"Invalid context token.\");return[2,l]}}))}))}function ze(){return t(this,void 0,void 0,(function(){var e,t;return n(this,(function(n){switch(n.label){case 0:if(!(e=L().liffId))throw c(Q,\"Invalid LIFF ID.\");return[4,qe(e)];case 1:return t=n.sent(),W(t),[2]}}))}))}function Ge(e){return t(this,void 0,void 0,(function(){var r,o,i,a=this;return n(this,(function(s){switch(s.label){case 0:r=function(){return t(a,void 0,void 0,(function(){var t,r,o,i,a,s;return n(this,(function(n){switch(n.label){case 0:return[4,(c=L(),l=d.parse(window.location.search),u=g(),f={grant_type:\"authorization_code\",client_id:l.liffClientId,appId:c.liffId,code:l.code,code_verifier:u.codeVerifier,redirect_uri:c.redirectUri||l.liffRedirectUri,id_token_key_type:\"JWK\"},h=d.stringify(f),ue(fe(\"token\"),{method:\"POST\",headers:{\"Content-Type\":\"application/x-www-form-urlencoded;charset=UTF-8\"},body:h}))];case 1:return t=n.sent(),r=t.access_token,o=t.id_token,i=t.expires_in,j(e),P(r),q(new Date(Date.now()+1e3*i)),V(),o?(H(o),[4,Ue(o,e)]):[3,3];case 2:(a=n.sent())&&N(a),n.label=3;case 3:return(s=d.parse(location.hash).context_token)?(W(De(s)),[3,6]):[3,4];case 4:return[4,ze()];case 5:n.sent(),n.label=6;case 6:return[2]}var c,l,u,f,h}))}))},s.label=1;case 1:return s.trys.push([1,3,,4]),[4,r()];case 2:return s.sent(),[3,4];case 3:throw o=s.sent(),i=o,V(),i;case 4:return[2]}}))}))}function Qe(){return t(this,void 0,void 0,(function(){var e,r,o,a,s,c,l=this;return n(this,(function(u){switch(u.label){case 0:return(r=se())?[3,2]:[4,ce(Ce.SUB)];case 1:r=u.sent(),u.label=2;case 2:return(e=r).isReady()?(o=m(8),[4,e.getData(\"appData\")]):[3,8];case 3:return a=u.sent(),s=a.eventName,c=a.data,s!==ke.NOT_FOUND?[3,6]:[4,e.teardown()];case 4:return u.sent(),[4,Qe()];case 5:return[2,u.sent()];case 6:c&&U(JSON.stringify(c)),u.label=7;case 7:return e.listen((function(r){return t(l,void 0,void 0,(function(){var t,i;return n(this,(function(n){return t=r.context,i=t.data,t.eventName===Z.INIT&&(null==i?void 0:i.subWindowId)!==o&&ge(),t.eventName!==Z.CANCEL&&t.eventName!==Z.SUBMIT||e.teardown(),[2]}))}))})),i()&&e.send({eventName:Z.INIT,data:{subWindowId:o,hasOpener:!!window.opener}}),[3,10];case 8:return ae()?[3,10]:[4,new Promise((function(e){window.addEventListener(\"message\",function(e){return function t(n){var r=n.data,o=n.source,i=n.origin;if(r){var a=r.type,s=r.message;a===$&&(window.removeEventListener(\"message\",t),s&&U(s),le(i),o&&o.postMessage&&o.postMessage({status:$},i),e())}}}(e))}))];case 9:return[2,u.sent()];case 10:return[2]}}))}))}var Xe=new(function(){function e(){var e=this;this.getAndValidateContext=function(){var e=b();if(!e)throw c(Q,\"Could not get Context from server.\");if(!e.endpointUrl)throw c(Q,\"Could not get endpointUrl from server.\");if(!e.permanentLinkPattern)throw c(Q,\"Could not get permanentLinkPattern from server.\");return e},this.decodeState=function(t){var n=e.getAndValidateContext();t=t.replace(/\\n/g,\"%0D%0A\");var r=!n.endpointUrl.startsWith(\"/?\")&&n.endpointUrl.includes(\"/?\")||!n.endpointUrl.startsWith(\"/#\")&&n.endpointUrl.includes(\"/#\")||n.endpointUrl.endsWith(\"/\")||!t.startsWith(\"/?\")&&t.includes(\"/?\")||!t.startsWith(\"/#\")&&t.includes(\"/#\")||t.endsWith(\"/\"),o=new URL(n.endpointUrl),i=o.origin,a=o.pathname,s=o.search,c=new URL(\"\".concat(i).concat(e.attachSlashAtStart(t))),l=c.pathname,u=c.search,f=c.hash,d=\"\".concat(s).concat(s?u.replace(/\\?/g,\"&\"):u),h=\"\".concat(a).concat(e.attachSlashAtStart(l)).replace(\"//\",\"/\");return(h=e.attachSlashAtStart(\"\".concat(h))).endsWith(\"/\")&&!r&&(h=h.substring(0,h.length-1)),\"\".concat(i).concat(h).concat(d).concat(f).replace(/%0D%0A/g,\"\\n\")}}return e.prototype.attachSlashAtStart=function(e){return\"\".concat(e&&e.length>0&&!e.startsWith(\"/\")?\"/\":\"\").concat(e)},e.prototype.invoke=function(){return t(this,void 0,void 0,(function(){var e,t,r,o,i;return n(this,(function(n){switch(n.label){case 0:if(e=d.parse(window.location.search),\"string\"!=typeof(t=e[\"liff.state\"]))return[2];n.label=1;case 1:return n.trys.push([1,4,,5]),r=location.href,(o=this.decodeState(t))===r?[3,3]:(e[\"liff.hback\"]?location.replace(v(o,{\"liff.hback\":e[\"liff.hback\"]})):location.replace(o),[4,new Promise((function(){}))]);case 2:n.sent(),n.label=3;case 3:return[3,5];case 4:if((i=n.sent()).code===Q)throw i;return he.debug(i),[3,5];case 5:return[2]}}))}))},e}());function Ye(e,r,o){return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:if(!r.liffId)throw c(ee,\"liffId is necessary for liff.init()\");return z(r),!te()&&i()&&(k()||ne()),t=d.parse(window.location.search),!re()||te()?[3,2]:[4,Qe()];case 1:n.sent(),n.label=2;case 2:if(t.error&&t.liffOAuth2Error)throw l=t.error,u=t.error_description,f=u.replace(/\\+/g,\" \"),h=\"\".concat(l,\": \").concat(f),c(Q,h);return a=t.code,s=g(),Boolean(a&&!i()&&s&&s.codeVerifier)?[4,Ge(t.liffClientId)]:[3,4];case 3:n.sent(),n.label=4;case 4:return te()?[4,Ve(e,r)]:[3,6];case 5:return n.sent(),[3,8];case 6:return i()?[3,8]:[4,ze()];case 7:n.sent(),n.label=8;case 8:return[4,Xe.invoke()];case 9:return n.sent(),[4,o()];case 10:return n.sent(),w(window.location.href),[2]}var a,s,l,u,f,h}))}))}var Ze=function(e,t){return new Promise((function(n,r){if(e){var o=document.createElement(\"script\");o.type=\"module\",o.onload=function(){n()},o.src=e,document.head.appendChild(o)}else r(c(ee,t))}))},$e=function(e){var t=\"https://static.line-scdn.net/lui/edge/versions/1.13.0/lui-alert.js\";return t&&e&&(t=t.replace(/\\d{1,2}\\.\\d{1,2}\\.\\d{1,3}/,e)),Ze(t,\"LUI_ALERT_URL is not defined\")},et=function(){return t(void 0,void 0,void 0,(function(){var e;return n(this,(function(t){switch(t.label){case 0:return e=function(){var e,t=document.querySelector('script[src*=\"luivendor.js\"]');if(t&&(null===(e=t.src.match(/\\d{1,2}\\.\\d{1,2}\\.\\d{1,3}/g))||void 0===e?void 0:e.length))return t.src.match(/\\d{1,2}\\.\\d{1,2}\\.\\d{1,3}/g)[0]}(),e?[3,2]:[4,Ze(\"https://static.line-scdn.net/lui/edge/versions/1.13.0/luivendor.js\",\"LUI_VENDOR_URL is not defined\")];case 1:t.sent(),t.label=2;case 2:return[4,$e(e)];case 3:return t.sent(),[4,(n=m(6),new Promise((function(){var e=document.createElement(\"div\");e.innerHTML='<lui-alert id=\"'.concat(\"liffAlert\",\"-\").concat(n,'\" shown title=\"').concat(ye(\"alert.android.extBrowser.autoLoginWorkaround.title\"),'\" message=\"').concat(ye(\"alert.android.extBrowser.autoLoginWorkaround.desc\"),'\" button=\"').concat(ye(\"alert.android.extBrowser.autoLoginWorkaround.button.text\"),'\"></lui-alert>'),document.body.appendChild(e);var t=document.getElementById(\"\".concat(\"liffAlert\",\"-\").concat(n));t&&t.addEventListener(\"lui-button-click\",(function(){var e=window.open(\"\".concat(window.location.href,\"&liffIsEscapedFromApp=true\"),\"_blank\");e&&(e.location.href=\"\".concat(window.location.href,\"&liffIsEscapedFromApp=true\"),window.close())}))})))];case 4:return t.sent(),[2]}var n}))}))};function tt(){return t(this,void 0,void 0,(function(){var e;return n(this,(function(t){switch(t.label){case 0:return te()||\"android\"!==be()||((e=d.parse(window.location.search))[Fe]||e.liffIsEscapedFromApp)?[3,6]:e.liffClientId&&document.referrer.includes(\"access.\".concat(\"line.me\"))?(window.location.href=\"\".concat(window.location.href,\"&liffIsEscapedFromApp=true\"),[2]):e.liffClientId&&document.referrer.includes(\"android-app://\")?[4,et()]:[3,2];case 1:t.sent(),t.label=2;case 2:return e.liffClientId&&\"\"===document.referrer&&1===window.history.length?[4,et()]:[3,4];case 3:t.sent(),t.label=4;case 4:return!document.referrer.includes(\"liffClientId\")||document.referrer.includes(\"liffIsEscapedFromApp\")?[3,6]:[4,et()];case 5:t.sent(),t.label=6;case 6:return[2]}}))}))}var nt=function(){function e(){this.hooks={before:new Ie,after:new Ie},this.internalHooks={beforeFinished:new Ie,beforeSuccess:new Ie,error:new Ie}}return Object.defineProperty(e.prototype,\"name\",{get:function(){return\"init\"},enumerable:!1,configurable:!0}),e.prototype.install=function(e){var t=e.liff;return this.liff=t,this.init.bind(this)},e.prototype.init=function(e,r,a){return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return[4,this.hooks.before.call()];case 1:n.sent(),s=this.liff,window&&!window.liff&&(window.liff=s),n.label=2;case 2:return n.trys.push([2,9,,11]),[4,Promise.all([Ee(this.liff),Ye(this.liff,e,this.internalHooks.beforeFinished.call)])];case 3:return n.sent(),xe(),[4,this.internalHooks.beforeSuccess.call()];case 4:return n.sent(),!e.withLoginOnExternalBrowser||i()?[3,6]:(this.liff.login(),[4,new Promise((function(){}))]);case 5:n.sent(),n.label=6;case 6:return[4,tt()];case 7:return n.sent(),[4,this.hooks.after.call()];case 8:return n.sent(),\"function\"==typeof r&&r(),o(),[3,11];case 9:return t=n.sent(),[4,this.internalHooks.error.call(t)];case 10:throw n.sent(),\"function\"==typeof a&&a(t),t;case 11:return[2]}var s}))}))},e}();export{nt as InitModule};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}