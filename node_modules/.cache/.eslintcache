[{"/Users/navamongkoltongta/workspace/sn2/shopassistant-register/src/index.js":"1","/Users/navamongkoltongta/workspace/sn2/shopassistant-register/src/App.js":"2","/Users/navamongkoltongta/workspace/sn2/shopassistant-register/src/reportWebVitals.js":"3"},{"size":535,"mtime":1668935018000,"results":"4","hashOfConfig":"5"},{"size":3059,"mtime":1669139449000,"results":"6","hashOfConfig":"5"},{"size":362,"mtime":1668935018000,"results":"7","hashOfConfig":"5"},{"filePath":"8","messages":"9","suppressedMessages":"10","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"178vxrm",{"filePath":"11","messages":"12","suppressedMessages":"13","errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"14"},{"filePath":"15","messages":"16","suppressedMessages":"17","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/navamongkoltongta/workspace/sn2/shopassistant-register/src/index.js",[],[],"/Users/navamongkoltongta/workspace/sn2/shopassistant-register/src/App.js",["18","19","20","21","22","23"],[],"import logo from './logo.svg';\nimport './App.css';\nimport liff from '@line/liff';\nimport { useEffect, useState } from 'react';\nimport done_logo from './done-icon.png'\n\nfunction App() {\n  const axios = require('axios');\n  const [pictureUrl, setPictureUrl] = useState(logo);\n  const [idToken, setIdToken] = useState(\"\");\n  const [displayName, setDisplayName] = useState(\"\");\n  const [statusMessage, setStatusMessage] = useState(\"\");\n  const [userId, setUserId] = useState(\"\");\n  const [shopeeId, setShopeeId] = useState(\"\");\n\n  const logout = () => {\n    liff.logout();\n    window.location.reload();\n  }\n\n  const register = () => {\n    const jsonData = {\n          \"userIdToken\" : idToken,\n          \"userDisplayName\": displayName,\n          \"userId\" : userId,\n          \"shopeeId\" : shopeeId,\n    }\n    var body = new FormData();\n    body.append('userIdToken', idToken);\n    body.append('userDisplayName', displayName);\n    body.append('userId', userId);\n    body.append('shopeeId', shopeeId);\n    fetch('https://asia-southeast1-shopassistant-369117.cloudfunctions.net/insert-user',{\n      method: 'POST',\n      mode: 'no-cors',\n      headers: { 'Content-Type':'application/json'},\n      body: body\n    }).then((response) => {\n      if (response.status === 0) {\n        // console.log(\"Done\");\n        window.close();\n      }\n    });\n  }\n\n  const initLine = () => {\n    liff.init({ liffId: '1657665769-GyvV85jy' }, () => {\n      if (liff.isLoggedIn()) {\n        runApp();\n      } else {\n        liff.login();\n      }\n    }, err => console.error(err));\n  }\n\n  const runApp = () => {\n    const idToken = liff.getIDToken();\n    setIdToken(idToken);\n    liff.getProfile().then(profile => {\n      console.log(profile);\n      setDisplayName(profile.displayName);\n      setPictureUrl(profile.pictureUrl);\n      setStatusMessage(profile.statusMessage);\n      setUserId(profile.userId);\n    }).catch(err => console.error(err));\n  }\n\n  useEffect(() => {\n    initLine();\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n      <div style={{ textAlign: \"center\" }}>\n        <h1>Shop Assistant Register</h1>\n        <hr/>\n        <img src={done_logo} style={{marginLeft:\"auto\", marginRight:\"auto\", width:\"50%\"}} hidden></img>\n        <img src={pictureUrl} width=\"300px\" height=\"300px\"/>\n        <p style={{ textAlign: \"left\", marginLeft: \"20%\", marginRight: \"20%\", wordBreak: \"break-all\" }}><b>display name: </b> {displayName}</p>\n        <form style={{ textAlign: \"left\", marginLeft: \"20%\", marginRight: \"20%\", wordBreak: \"break-all\" }}>\n          <label><b>Enter ShopeeId</b>\n            <input \n              type=\"text\" \n              value={shopeeId}\n              onChange={(e) => setShopeeId(e.target.value)}\n            />\n          </label>\n        </form>\n        \n\n        <button onClick={() => register()} style={{ width: \"100%\", height: 30 }}>Register</button>\n        <button onClick={() => logout()} style={{ width: \"100%\", height: 30 }}>Logout</button>\n      </div>\n      </header>\n    </div>\n  );\n}\n\nexport default App;","/Users/navamongkoltongta/workspace/sn2/shopassistant-register/src/reportWebVitals.js",[],[],{"ruleId":"24","severity":1,"message":"25","line":8,"column":9,"nodeType":"26","messageId":"27","endLine":8,"endColumn":14},{"ruleId":"24","severity":1,"message":"28","line":12,"column":10,"nodeType":"26","messageId":"27","endLine":12,"endColumn":23},{"ruleId":"24","severity":1,"message":"29","line":22,"column":11,"nodeType":"26","messageId":"27","endLine":22,"endColumn":19},{"ruleId":"30","severity":1,"message":"31","line":70,"column":6,"nodeType":"32","endLine":70,"endColumn":8,"suggestions":"33"},{"ruleId":"34","severity":1,"message":"35","line":78,"column":9,"nodeType":"36","endLine":78,"endColumn":98},{"ruleId":"34","severity":1,"message":"35","line":79,"column":9,"nodeType":"36","endLine":79,"endColumn":61},"no-unused-vars","'axios' is assigned a value but never used.","Identifier","unusedVar","'statusMessage' is assigned a value but never used.","'jsonData' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'initLine'. Either include it or remove the dependency array.","ArrayExpression",["37"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement",{"desc":"38","fix":"39"},"Update the dependencies array to be: [initLine]",{"range":"40","text":"41"},[1964,1966],"[initLine]"]