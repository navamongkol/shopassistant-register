{"ast":null,"code":"import { LIFF_EVENT as t, INVALID_ARGUMENT as e, FORBIDDEN as i } from \"@liff/consts\";\nimport { logger as o } from \"@liff/logger\";\nimport { createLiffError as n, randomAlphaNumericString as a } from \"@liff/util\";\nimport { getFeatureToken as r } from \"@liff/store\";\nimport { __assign as l } from \"tslib\";\nfunction d(e) {\n  return new CustomEvent(t, {\n    detail: e\n  });\n}\n!function () {\n  if (\"function\" != typeof window.CustomEvent) {\n    function t(t, e) {\n      var i = e || {},\n        o = i.bubbles,\n        n = void 0 !== o && o,\n        a = i.cancelable,\n        r = void 0 !== a && a,\n        l = i.detail,\n        d = void 0 === l ? void 0 : l,\n        f = document.createEvent(\"CustomEvent\");\n      return f.initCustomEvent(t, n, r, d), f;\n    }\n    t.prototype = Event.prototype, window.CustomEvent = t;\n  }\n}();\nvar f = {},\n  c = !1;\nfunction s(e, i) {\n  c || (c = !0, window.addEventListener(t, function (t) {\n    t && t.detail && t.detail.type && f[t.detail.type] && f[t.detail.type].forEach(function (e) {\n      return e(t);\n    });\n  })), f[e] ? f[e].push(i) : f[e] = [i];\n}\nfunction u(t, e) {\n  var i = f[t];\n  if (i && Array.isArray(i)) {\n    var o = i.indexOf(e);\n    o >= 0 && i.splice(o, 1);\n  }\n}\nfunction v(t) {\n  var i = {};\n  try {\n    i = JSON.parse(t);\n  } catch (r) {\n    throw n(e, r.message);\n  }\n  var a = d(i);\n  o.debug(\"[client dispatchEvent to js]\", {\n    type: a.type,\n    detail: a.detail\n  }), window.dispatchEvent(a);\n}\nfunction p(t, a, l) {\n  void 0 === a && (a = {}), void 0 === l && (l = \"\");\n  var d = r();\n  if (!d) throw n(i, \"Invalid featureToken for client features\");\n  if (!window._liff || !window._liff.postMessage) throw n(e, \"postMessage is not available from client\");\n  o.debug(\"[js postMessage to client]\", t, l, a), window._liff.postMessage(t, d, l, JSON.stringify(a));\n}\nfunction m(t, e, d) {\n  return void 0 === e && (e = {}), void 0 === d && (d = {\n    once: !0\n  }), r() ? (d = l({\n    callbackId: a(12),\n    once: !0\n  }, d), new Promise(function (i, n) {\n    var a = function (e) {\n      if (e && e.detail) {\n        var r = e.detail.callbackId === d.callbackId,\n          l = \"string\" != typeof e.detail.callbackId;\n        (r || l) && (d.once && u(t, a), o.debug(\"[callback detail]\", e.detail), e.detail.error ? n(e.detail.error) : e.detail.data ? i(e.detail.data) : n(e.detail));\n      }\n      n();\n    };\n    s(t, a), p(t, e, d.callbackId);\n  })) : Promise.reject(n(i, \"Invalid featureToken for client features\"));\n}\nexport { s as addListener, m as call, d as createEvent, v as dispatch, p as postMessage, u as removeListener };","map":{"version":3,"names":["LIFF_EVENT","t","INVALID_ARGUMENT","e","FORBIDDEN","i","logger","o","createLiffError","n","randomAlphaNumericString","a","getFeatureToken","r","__assign","l","d","CustomEvent","detail","window","bubbles","cancelable","f","document","createEvent","initCustomEvent","prototype","Event","c","s","addEventListener","type","forEach","push","u","Array","isArray","indexOf","splice","v","JSON","parse","message","debug","dispatchEvent","p","_liff","postMessage","stringify","m","once","callbackId","Promise","error","data","reject","addListener","call","dispatch","removeListener"],"sources":["/Users/navamongkoltongta/workspace/sn2/shopassistant-register/node_modules/@liff/native-bridge/lib/index.es.js"],"sourcesContent":["import{LIFF_EVENT as t,INVALID_ARGUMENT as e,FORBIDDEN as i}from\"@liff/consts\";import{logger as o}from\"@liff/logger\";import{createLiffError as n,randomAlphaNumericString as a}from\"@liff/util\";import{getFeatureToken as r}from\"@liff/store\";import{__assign as l}from\"tslib\";function d(e){return new CustomEvent(t,{detail:e})}!function(){if(\"function\"!=typeof window.CustomEvent){function t(t,e){var i=e||{},o=i.bubbles,n=void 0!==o&&o,a=i.cancelable,r=void 0!==a&&a,l=i.detail,d=void 0===l?void 0:l,f=document.createEvent(\"CustomEvent\");return f.initCustomEvent(t,n,r,d),f}t.prototype=Event.prototype,window.CustomEvent=t}}();var f={},c=!1;function s(e,i){c||(c=!0,window.addEventListener(t,(function(t){t&&t.detail&&t.detail.type&&f[t.detail.type]&&f[t.detail.type].forEach((function(e){return e(t)}))}))),f[e]?f[e].push(i):f[e]=[i]}function u(t,e){var i=f[t];if(i&&Array.isArray(i)){var o=i.indexOf(e);o>=0&&i.splice(o,1)}}function v(t){var i={};try{i=JSON.parse(t)}catch(r){throw n(e,r.message)}var a=d(i);o.debug(\"[client dispatchEvent to js]\",{type:a.type,detail:a.detail}),window.dispatchEvent(a)}function p(t,a,l){void 0===a&&(a={}),void 0===l&&(l=\"\");var d=r();if(!d)throw n(i,\"Invalid featureToken for client features\");if(!window._liff||!window._liff.postMessage)throw n(e,\"postMessage is not available from client\");o.debug(\"[js postMessage to client]\",t,l,a),window._liff.postMessage(t,d,l,JSON.stringify(a))}function m(t,e,d){return void 0===e&&(e={}),void 0===d&&(d={once:!0}),r()?(d=l({callbackId:a(12),once:!0},d),new Promise((function(i,n){var a=function(e){if(e&&e.detail){var r=e.detail.callbackId===d.callbackId,l=\"string\"!=typeof e.detail.callbackId;(r||l)&&(d.once&&u(t,a),o.debug(\"[callback detail]\",e.detail),e.detail.error?n(e.detail.error):e.detail.data?i(e.detail.data):n(e.detail))}n()};s(t,a),p(t,e,d.callbackId)}))):Promise.reject(n(i,\"Invalid featureToken for client features\"))}export{s as addListener,m as call,d as createEvent,v as dispatch,p as postMessage,u as removeListener};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}