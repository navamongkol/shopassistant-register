{"ast":null,"code":"import { __read as t } from \"tslib\";\nimport { INVALID_ARGUMENT as e } from \"@liff/consts\";\nimport { createLiffError as r } from \"@liff/util\";\nimport { logger as o } from \"@liff/logger\";\nvar n = {};\nfunction i() {\n  return n;\n}\nfunction s(e, r) {\n  var o = i(),\n    n = t(r.split(\".\"), 1)[0],\n    s = o[r];\n  s && e.removeEventListener(n, s), o[r] = null;\n}\nvar f = !1,\n  a = !1;\nfunction c(e, r, o, i) {\n  f || (a = function () {\n    var t = !1;\n    try {\n      var e = Object.defineProperty({}, \"passive\", {\n        get: function get() {\n          return t = !0, !1;\n        }\n      });\n      window.addEventListener(\"test\", e, e), window.removeEventListener(\"test\", e, e);\n    } catch (r) {\n      t = !1;\n    }\n    return t;\n  }(), f = !0);\n  var c = t(r.split(\".\"), 1)[0];\n  return new Promise(function (t) {\n    var f = function f(n) {\n      t(n), o && o(n), i && i.once && s(e, r);\n    };\n    !function (t, e) {\n      n[t] = e;\n    }(r, f), e.addEventListener(c, f, !!a && i);\n  });\n}\nfunction u(t, o, n, i) {\n  if (void 0 === n && (n = {}), \"object\" != typeof t || !t.postMessage) throw r(e, \"target must be window object\");\n  if (\"string\" != typeof o) throw r(e, \"keyname must be string\");\n  if (\"object\" != typeof n) throw r(e, \"incorrect body format. It should be Object or Array comprised of Object\");\n  if (!i) throw r(e, \"serverEndPointUrl isn't passed. please fill up with proper url\");\n  if (\"*\" === i) throw new Error(\"serverEndPointUrl doesn't allow to set '*'\");\n  var s = {\n    name: o,\n    body: n\n  };\n  t.postMessage(s, i);\n}\nfunction m(t, e, r, n) {\n  c(t, \"message.\".concat(e), function (t, e, r) {\n    return function (n) {\n      o.debug(\"messageReceive\", n), n.origin === r && n.data.name === t && e(n);\n    };\n  }(e, r, n));\n}\nexport { c as listen, m as messageReceive, u as messageTell, s as removeListen };","map":{"version":3,"names":["__read","t","INVALID_ARGUMENT","e","createLiffError","r","logger","o","n","i","s","split","removeEventListener","f","a","c","Object","defineProperty","get","window","addEventListener","Promise","once","u","postMessage","Error","name","body","m","concat","debug","origin","data","listen","messageReceive","messageTell","removeListen"],"sources":["/Users/navamongkoltongta/workspace/sn2/shopassistant-register/node_modules/@liff/window-postmessage/lib/index.es.js"],"sourcesContent":["import{__read as t}from\"tslib\";import{INVALID_ARGUMENT as e}from\"@liff/consts\";import{createLiffError as r}from\"@liff/util\";import{logger as o}from\"@liff/logger\";var n={};function i(){return n}function s(e,r){var o=i(),n=t(r.split(\".\"),1)[0],s=o[r];s&&e.removeEventListener(n,s),o[r]=null}var f=!1,a=!1;function c(e,r,o,i){f||(a=function(){var t=!1;try{var e=Object.defineProperty({},\"passive\",{get:function(){return t=!0,!1}});window.addEventListener(\"test\",e,e),window.removeEventListener(\"test\",e,e)}catch(r){t=!1}return t}(),f=!0);var c=t(r.split(\".\"),1)[0];return new Promise((function(t){var f=function(n){t(n),o&&o(n),i&&i.once&&s(e,r)};!function(t,e){n[t]=e}(r,f),e.addEventListener(c,f,!!a&&i)}))}function u(t,o,n,i){if(void 0===n&&(n={}),\"object\"!=typeof t||!t.postMessage)throw r(e,\"target must be window object\");if(\"string\"!=typeof o)throw r(e,\"keyname must be string\");if(\"object\"!=typeof n)throw r(e,\"incorrect body format. It should be Object or Array comprised of Object\");if(!i)throw r(e,\"serverEndPointUrl isn't passed. please fill up with proper url\");if(\"*\"===i)throw new Error(\"serverEndPointUrl doesn't allow to set '*'\");var s={name:o,body:n};t.postMessage(s,i)}function m(t,e,r,n){c(t,\"message.\".concat(e),function(t,e,r){return function(n){o.debug(\"messageReceive\",n),n.origin===r&&n.data.name===t&&e(n)}}(e,r,n))}export{c as listen,m as messageReceive,u as messageTell,s as removeListen};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}